[["index.html", "R语言画图 第 1 章 前言 1.1 致谢", " R语言画图 唐洁 2022-10-11 第 1 章 前言 学习R作图的笔记。 Codes Bookdown Online 1.1 致谢 感谢谢益辉开发的bookdown和模板。 "],["图形参数设置.html", "第 2 章 图形参数设置 2.1 颜色 2.2 文字 2.3 点 2.4 线", " 第 2 章 图形参数设置 2.1 颜色 一份好看的RGB颜色表 2.1.1 固有颜色 colors() ## 示例1.1-1 par(family=&#39;STKaiti&#39;) plot(1:10,type=&#39;b&#39;,col=&#39;black&#39;,main=&#39;图1.1-1&#39;) ## 设置线的颜色 text(6,5,labels=&#39;文字&#39;,col=&#39;red&#39;) ## 设置文字颜色 points(2,5,col=&#39;blue&#39;) ## 设置点的颜色 ## 示例1.1-2 par(family=&#39;STKaiti&#39;) plot(1:10,type=&#39;b&#39;,col=25,main=&#39;图1.1-2&#39;) ## 设置线的颜色 text(6,5,labels=&#39;文字&#39;,col=554) points(2,5,col=28) ## pdf查看固有颜色色板 pdf(&quot;pdfs/R固有颜色板.pdf&quot;,height=120) par(mar=c(0,10,3,0)+0.1,yaxs=&#39;i&#39;) barplot(rep(1,length(colors())),col=rev(colors()), names.arg=rev(colors()),horiz=T,las=1,xaxt=&#39;n&#39;, # 名称+横向+间隔+不输出横轴 main=expression(&#39;Bars of colors in&#39;~italic(colors()))) dev.off() ## quartz_off_screen ## 2 2.1.2 自助调色 ## rgb函数 Hex &lt;- rgb(red=126,green=255,blue=211,max=255) Hex ## [1] &quot;#7EFFD3&quot; ## 示例1.2-1 par(family=&#39;STKaiti&#39;) plot(1:10,type=&#39;b&#39;,col=25,main=&#39;图1.2-1&#39;) ## 设置线的颜色 text(6,5,labels=&#39;文字&#39;,col=Hex) 2.1.3 主题调色板 ## rainbow(n,s=1,v=1,start=0,end=max(1,n-1)/n,gamma=1) ## n 设定产生颜色的数目 ## start,end 设定彩虹颜色的一个子集，生成的颜色将从这个子集中选取 ## 示例1.3-1 par(family=&#39;STKaiti&#39;) barplot(rep(1,41),main=&#39;图1.3-1&#39;, col=c(rainbow(n=6,star=0, end=1/6),&quot;white&quot;, rainbow(n=6,star=1/6,end=2/6),&quot;white&quot;, rainbow(n=6,star=2/6,end=3/6),&quot;white&quot;, rainbow(n=6,star=3/6,end=4/6),&quot;white&quot;, rainbow(n=6,star=4/6,end=5/6),&quot;white&quot;, rainbow(n=6,star=5/6,end=1)) ) x.text&lt;-c(&#39;赤&#39;,&#39;黄&#39;,&#39;绿&#39;,&#39;青&#39;,&#39;蓝&#39;,&#39;紫&#39;) axis(side=1,at=seq(from=3,length.out=6,by=8.5),label=x.text,cex=0.75) ## 示例1.3-2 barplot(rep(1,56), col=c(rainbow(n=8,star=0,end=1/7), rainbow(n=8,star=1/7,end=2/7), rainbow(n=8,star=2/7,end=3/7), rainbow(n=8,star=3/7,end=4/7), rainbow(n=8,star=4/7,end=5/7), rainbow(n=8,star=5/7,end=6/7), rainbow(n=8,star=6/7,end=1) ) ) 2.1.4 其他主题配色函数 ## heat.colors() terrain.colors() topo.colors() cm.colors() ## 示例1.4-1 barplot(rep(1,6),col=heat.colors(6),main=&#39;heat.colors&#39;) barplot(rep(1,6),col=terrain.colors(6),main=&#39;terrain.colors&#39;) barplot(rep(1,6),col=topo.colors(6),main=&#39;topo.colors&#39;) barplot(rep(1,6),col=cm.colors(6),main=&#39;cm.colors&#39;) 2.1.5 颜色扩展包 ## RColorBrewer包 brewer.pal() ## 连续Sequential 两极Diverging 离散Qualitative ## 示例1.5-1 ## RColorBrewerl连续型渐变色 library(RColorBrewer) display.brewer.all(type=&#39;seq&#39;) # 18组 9个渐变颜色 ## 示例1.5-2 RColorBrewerl极端型渐变色 library(RColorBrewer) display.brewer.all(type=&#39;div&#39;) # 9组 11个颜色 ## 示例1.5-3 RColorBrewerl离散型渐变色 library(RColorBrewer) display.brewer.all(type=&#39;qual&#39;) # 8组 ## 示例1.5-4 library(RColorBrewer) ## 使用YlOrRd组的第3～8种颜色 barplot(rep(1,6),col=brewer.pal(9,&#39;YlOrRd&#39;)[3:8],main=&#39;1.5-4&#39;) ## 使用BrBG组的第3～8种颜色 barplot(rep(1,6),col=brewer.pal(11,&#39;BrBG&#39;)[3:8],main=&#39;1.5-4&#39;) 2.2 文字 ## text(font,cex,col,...) 2.2.1 字体 ## 示例2.1-1 par(family=&#39;STKaiti&#39;) plot(c(1:6),col=&#39;white&#39;,main=&#39;图2.1-1&#39;) text(2,2,labels=&#39;font=1: 正常字体(默认)&#39;,font=1) text(3,3,labels=&#39;font=2: 粗体字体&#39;,font=2) text(4,4,labels=&#39;font=3: 斜体字体&#39;,font=3) text(5,5,labels=&#39;font=4: 粗斜体字体&#39;,font=4) ## 示例2.1-2 # par(family=&#39;HersheySerif&#39;) par(family=&#39;STKaiti&#39;) plot(c(1:6),col=&#39;white&#39;,main=&#39;图2.1-2&#39;) text(2,2,labels=&#39;font=1&#39;,font=1) text(3,3,labels=&#39;font=2&#39;,font=2) text(4,4,labels=&#39;font=3&#39;,font=3) text(5,5,labels=&#39;font=4&#39;,font=4) 2.2.2 大小 ## 示例2.2-1 par(family=&#39;STKaiti&#39;) plot(c(1:7),col=&#39;white&#39;,main=&#39;图2.2-1&#39;) text(2,2,labels=&#39;cex=0.5&#39;,cex=0.5) text(3,3,labels=&#39;cex=0.8&#39;,cex=0.8) text(4,4,labels=&#39;cex=1&#39;,cex=1) text(5,5,labels=&#39;cex=1.2&#39;,cex=1.2) text(6,6,labels=&#39;cex=1.5&#39;,cex=1.5) 2.3 点 ## points(pch,col,cex,...) pch 数字取点的样式 par(family=&#39;STKaiti&#39;) plot(1,col=&#39;white&#39;,xlim=c(0.5,6.5),ylim=c(1,7),main=&#39;图3.1 R点样式&#39;) for(i in c(0:25)){ x &lt;- (i%/%5)*1+1 y &lt;- 6-(i%%5) if(length(which(c(21:25)==i)&gt;=1)){ points(x,y,pch=i,bg=&#39;blue&#39;,cex=2) #21-25可设置背景样式 }else{ points(x,y,pch=i,cex=2) } text(x+0.22,y+0.22,labels=i) } pch 字符取点的样式,如 * . O o + - 0-9 | par(family=&#39;STKaiti&#39;) plot(1,col=&#39;white&#39;,xlim=c(0.5,6.5),ylim=c(1,7),main=&#39;图3.2 字符取点的样式&#39;) for(i in c(0:25)){ x &lt;- (i%/%5)*1+1 y &lt;- 6-(i%%5) if(length(which(c(21:25)==i)&gt;=1)){ points(x,y,pch=i,bg=&#39;blue&#39;,cex=2) #21-25可设置背景样式 }else{ points(x,y,pch=i,cex=2) } text(x+0.22,y+0.22,labels=i) } points(6,5,pch=&#39;*&#39;,cex=2,main=&#39;图3.2&#39;) text(6+0.22,5+0.22,labels=&#39;*&#39;) 2.4 线 ## lines(lty,lwd,col,...) ## plot(type默认为点,l为线) lty 线条样式 par(family=&#39;STKaiti&#39;) data = matrix(rep(rep(1:7),10),nrow=7,ncol=10) plot(data[1,],type=&#39;l&#39;,lty=0,ylim=c(0,8),xlim=c(-1,10),axes=F,main=&#39;图4 lty 线样式&#39;) text(0,1,labels=&#39;lty=0&#39;) for(i in c(2:7)){ lines(data[i,],lty=i-1) text(0,i,labels=paste(&#39;lty=&#39;,i-1)) } ## lwd 线条宽度 lty默认为1，实线 par(family=&#39;STKaiti&#39;) data = matrix(rep(rep(1:7),10),nrow=7,ncol=10) plot(data[1,],type=&#39;l&#39;,lwd=0.5,ylim=c(0,9),xlim=c(-1,10),axes=F,main=&#39;图4 lwd 线条宽度&#39;) text(0,1,labels=&#39;lwd=0.5&#39;) for(i in c(2:7)){ lines(data[i,],lwd=i*0.5) text(0,i,labels=paste(&#39;lwd=&#39;,i*0.5)) } "],["低级绘图函数.html", "第 3 章 低级绘图函数 3.1 标题 3.2 图例 3.3 坐标轴 3.4 网格线 3.5 点 3.6 线", " 第 3 章 低级绘图函数 3.1 标题 ## title(main,sub,xlab,ylab) ## mian=&#39;内容&#39; 或者 main=list(&#39;&#39;,font,col,cex) ## 示例5-1 data = data.frame(pre=c(113,134,123,145,137,196,187), now=c(129,122,134,149,146,215,208)) col=c(&#39;azure4&#39;,&#39;brown4&#39;) par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=F) axis(2) ## 添加主标题、副标题、主轴标题 data = data.frame(pre=c(113,134,123,145,137,196,187), now=c(129,122,134,149,146,215,208)) col=c(&#39;azure4&#39;,&#39;brown4&#39;) par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=F) axis(2) title(main=list(&#39;图5-1 本周pv趋势分析图&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;) ## 示例5-2 data = data.frame(pre=c(113,134,123,145,137,196,187), now=c(129,122,134,149,146,215,208)) col=c(&#39;azure4&#39;,&#39;brown4&#39;) par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=T, main=list(&#39;图5-2 本周pv趋势分析图&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;) 3.2 图例 ## legend(x,y,legend,horiz,ncol,pch,lty,col,bg,bty,title) ## x,y 图例位置，或 center、left、right、top、bottom、bottomright、bottomleft、topleft、topright ## legend 字符向量表示图例文字 ## horiz FALSE(默认)图例垂直排列、反之水平 ## ncol 图例的列数目；horiz=TRUE无意义 ## pch 图例中的点样式；NA无点样式 ## lty 图例中的线样式；NA无线样式 ## col 图例中点/线的颜色 ## bg 图例的背景颜色；为n时无效 ## bty 图例框的样式；为n时无边框；为o时显示边框 ## title 图例的标题 ## 示例6-1 data = data.frame(pre=c(113,134,123,145,137,196,187), now=c(129,122,134,149,146,215,208)) col=c(&#39;azure4&#39;,&#39;brown4&#39;) par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=T, main=list(&#39;图6-1&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;) text.legend = c(&#39;上周pv&#39;,&#39;本周pv&#39;) legend(&#39;topleft&#39;,pch=c(15,15),legend=text.legend, col=col,bty=&#39;n&#39;,horiz=TRUE) ## 示例6-2 par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=T, main=list(&#39;图6-2&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;) legend(&#39;top&#39;,pch=c(15,15),legend=text.legend, col=col,bty=&#39;o&#39;,horiz=FALSE) ## 示例6-3 par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=T, main=list(&#39;图6-3&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;, legend.text=text.legend) 3.3 坐标轴 ## 低级绘图 ## axis(side,labels,front.axis,cex.axis,cool.axis,at,tick,col,col.ticks,) ## side 取1、2、3、4对应下、左、上、右 ## labels 通过向量来设置坐标轴内各刻度的名称（刻度标记） ## font.axis 刻度标记的字体 ## cex.axis 刻度标记的大小 ## at 通过向量来设置坐标轴内各刻度标记的位置，at参数向量与labels参数向量一一对应 ## tick 逻辑参数，TRUE画出坐标轴，反之不画，FALSE不影响labels展示 ## col 坐标轴的颜色，tick=TRUE时有效，除了刻度标记(labels)以外的部分颜色，包括col.ticks ## col.ticks 坐标轴刻度线的颜色，即与坐标轴垂直的小刻度线的颜色 ## lty 坐标轴的样式，tick=TRUE时有效 ## lwd 坐标轴的宽度，tick=TRUE时有效 ## 示例7-1 data = data.frame(pre=c(113,134,123,145,137,196,187), now=c(129,122,134,149,146,215,208)) col=c(&#39;azure4&#39;,&#39;brown4&#39;) par(family=&#39;STKaiti&#39;) barplot(as.matrix(rbind(data$pre,data$now)), beside=TRUE,col=col,axes=T, main=list(&#39;图7-1&#39;,cex=1.5,col=&#39;red&#39;,font=3), sub=&#39;数据来源：某电商网站&#39;, ylab=&#39;网站日页面浏览量pv&#39;, legend.text=c(&#39;上周pv&#39;,&#39;本周pv&#39;)) text.x=c(&#39;周一&#39;,&#39;周二&#39;,&#39;周三&#39;,&#39;周四&#39;,&#39;周五&#39;,&#39;周六&#39;,&#39;周日&#39;) axis(1,at=c(2,5,8,11,14,17,20), labels=text.x, tick=FALSE, cex.axis=0.75) ## 示例7-2 par(family=&#39;STKaiti&#39;) plot(1:7,rnorm(7),main=&#39;图7-2&#39;, type=&#39;s&#39;,xaxt=&#39;n&#39;,frame=F,col=&#39;red&#39;) axis(1,at=1:7,labels=LETTERS[1:7],col.axis=&#39;blue&#39;) axis(3,col=&#39;gold&#39;,lty=2,lwd=1.5) axis(4,col=&#39;violet&#39;,col.axis=&#39;dark violet&#39;, lwd=2) ## 高级绘图 plot ## 设置坐标轴的展示和范围axes、xlim、ylim ## axes T(默认)显示x、y轴;F隐藏 ## xaxt 坐标轴样式&#39;s&#39;(默认)标准样式显示;&#39;n&#39;隐藏x轴 ## yaxt 同上 ## xaxs 轴的计算方式,&#39;r&#39;(默认)先把原始数据的范围向外扩大4%,&#39;l&#39;直接使用原始数据范围 ## yaxs 同上 ## xlog 设置x轴坐标是否取对数,F(默认) ## ylog 同上 ## xlim x轴的范围,c(from,to),from是x轴的首坐标,to是尾坐标 ## ylim 同上 ## 注意: ## 同时隐藏x、y轴,则设置axes=F ## 隐藏x轴只显示y轴,则设置xaxt=&#39;n&#39;或者设置axes=F之后使用axis(2) ## 示例7-3 par(family=&#39;STKaiti&#39;) plot(1:7,rnorm(7),main=&#39;图7-3&#39;,type=&#39;s&#39;, axes=T,frame=F,col=&#39;red&#39;, xaxt=&#39;s&#39;) ## 示例7-4 par(family=&#39;STKaiti&#39;) lx &lt;- seq(1, 5, length.out = 41) yl &lt;- expression(e^{-frac(1,2) * {log[10](x)}^2}) y &lt;- exp(-.5*lx^2) op &lt;- par(mfrow = c(2,1), mar = par(&quot;mar&quot;)-c(1,0,2,0), mgp = c(2, .7, 0)) plot(10^lx, y, log = &quot;xy&quot;, type = &quot;l&quot;, col = &quot;purple&quot;, main = &quot;7-4 Log-Log plot&quot;, ylab = yl, xlab = &quot;x&quot;) plot(10^lx, y, log = &quot;xy&quot;, type = &quot;o&quot;, pch = &quot;.&quot;, col = &quot;forestgreen&quot;, main = &quot;7-4 Log-Log plot with custom axes&quot;, ylab = yl, xlab = &quot;x&quot;, axes = FALSE, frame.plot = TRUE) my.at &lt;- 10^(1:5) axis(1, at = my.at, labels = formatC(my.at, format = &quot;fg&quot;)) e.y &lt;- -5:-1 ; at.y &lt;- 10^e.y axis(2, at = at.y, col.axis = &quot;red&quot;, las = 1, labels = as.expression(lapply(e.y, function(E) bquote(10^.(E))))) ## 坐标轴的密度分布表示 library(ggplot2) par(family=&#39;STKaiti&#39;) diamonds1 = diamonds[sample(1:nrow(diamonds),1000),] attach(diamonds1) plot(carat,price,main=&#39;图7-5&#39;) rug(carat) rug(price,side=2) detach(diamonds1) 3.4 网格线 ## grid(ny,nx) ## ny 设置水平网格的数目 NA不绘制相应的网格线 ## nx 设置垂直网格的数量 NA不绘制相应的网格线 ## 示例8-1 x.text = paste(seq(1,12,1),&#39;月&#39;) sales.volume = c(158721,190094,108441,88092,68709,50116,90117,16004,186045,106334,89092,104933) par(family=&#39;STKaiti&#39;) plot(sales.volume,type=&#39;b&#39;,ylim=c(20000,250000),axes = F, frame.plot = TRUE,main=&#39;图8-1 月销量趋势图&#39;, xlab=&#39;月份&#39;,ylab=&#39;销量(元)&#39;) axis(1,at=1:12,labels=x.text,tick=F) axis(2, at = seq(50000,250000,50000), las = 1) grid(nx=NA,ny=8,lwd=1,lty=2) ## 示例8-2 par(family=&#39;STKaiti&#39;) plot(sales.volume,type=&#39;b&#39;,ylim=c(20000,250000),xaxt=&#39;n&#39;, main=&#39;图8-2 月销量趋势图&#39;,xlab=&#39;月份&#39;,ylab=&#39;销量(元)&#39;) axis(1,at=1:12,labels=x.text,tick=F) grid(nx=NULL,ny=NULL,col=&#39;lightgray&#39;, lty=&#39;dotted&#39;,lwd=par(&#39;lwd&#39;),equilogs=T) 3.5 点 ## x,y 横纵坐标位置，可以是向量表示多个点的位置 ## type 9种样式; p l b c o h s S n ## pch 点样式 ## col 点颜色 ## bg 点背景色 pch取21～25时有效 ## lwd 点的边线的宽度 ## cex 点的大小 ## 示例9.1 x = 2:9 y = 2:9 op &lt;- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1)) for(tp in c(&quot;p&quot;,&quot;l&quot;,&quot;b&quot;,&quot;c&quot;,&quot;o&quot;,&quot;h&quot;,&quot;s&quot;,&quot;S&quot;,&quot;n&quot;)){ plot(1,ylim=c(1,10),xlim=c(1,10),col=&#39;white&#39;,type = tp, main = paste0(&quot;9.1 points(*, type = \\&quot;&quot;, tp, &quot;\\&quot;)&quot;)) points(x,y,type=tp) if(tp == &quot;S&quot;) { points(x, y, type = &quot;s&quot;, col = &quot;red&quot;, lty = 2) mtext(&quot;points(*, type = \\&quot;s\\&quot;, ...)&quot;, col = &quot;red&quot;, cex = 0.8) } } 3.6 线 ## 直线abline 、曲线lines 、线段segments ## abline ## a、b 截距、斜率 abline(a,b) ## h 水平线 abline(h=y) ## v 垂直线 abline(v=x) ## coef 提取系数的R对象 abline(lm.obj) ## abline ## 示例9.2-1 sol.lm = lm(iris[,1]~iris[,3]) par(family=&#39;STKaiti&#39;) plot(iris[,1]~iris[,3],col=&#39;blue&#39;,main=&#39;图9.2-1&#39;) abline(sol.lm,col=&#39;red&#39;) ## lines ## 示例9.2-2 x &lt;- 0:12 y &lt;- sin(pi/5 * x) op &lt;- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1)) for (tp in c(&quot;p&quot;,&quot;l&quot;,&quot;b&quot;,&quot;c&quot;,&quot;o&quot;,&quot;h&quot;,&quot;s&quot;,&quot;S&quot;,&quot;n&quot;)) { plot(y ~ x, type = tp, main = paste0(&quot;9.2-2 plot(*, type = \\&quot;&quot;, tp, &quot;\\&quot;)&quot;)) if(tp == &quot;S&quot;) { lines(x, y, type = &quot;s&quot;, col = &quot;red&quot;, lty = 2) mtext(&quot;lines(*, type = \\&quot;s\\&quot;, ...)&quot;, col = &quot;red&quot;, cex = 0.8) } } ## 示例9.2-3 par(family=&#39;STKaiti&#39;) plot(cars,main=&#39;图9.2-3 Stopping Distance versus Speed&#39;) lines(stats::lowess(cars)) "],["高级绘图函数.html", "第 4 章 高级绘图函数 4.1 饼图", " 第 4 章 高级绘图函数 4.1 饼图 par(family=&#39;STKaiti&#39;) barplot(c(26,30,14,35),axes = FALSE, main=list(&#39;标题&#39;,cex=1.5,col=&#39;black&#39;,font=3), col=c(&quot;#56B4E9&quot;,&quot;#FFC90E&quot;,&quot;#ED1C24&quot;,&quot;#22B14C&quot;), names.arg=c(&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;), sub=&#39;副标题&#39;, ylab=&#39;人数&#39; ) axis(2, at = seq(0,35,5), las = 1) # 数据准备 info = c(10,12, 3, 1) names = c(&quot;A&quot;,&quot;B&quot;, &quot;C&quot;, &quot;D&quot;) cols = c(&quot;#56B4E9&quot;,&quot;#FFC90E&quot;,&quot;#ED1C24&quot;,&quot;#22B14C&quot;) # 计算百分比 piepercent = paste(round(100*info/sum(info)), &quot;%&quot;) # 绘图 pie(info, labels=piepercent, main = &quot;标题&quot;, col=cols) # 添加颜色样本标注 legend(&quot;topleft&quot;, names, cex=0.8, fill=cols) info = c(11,10,5,1,3) names = c(&quot;A&quot;,&#39;B&#39;,&quot;C&quot;, &quot;D&quot;, &quot;E&quot;) cols = c(&quot;#56B4E9&quot;,&quot;#FFC90E&quot;,&quot;#ED1C24&quot;,&quot;#22B14C&quot;,&quot;#3f48CC&quot;) # 计算百分比 piepercent = paste(round(100*info/sum(info)), &quot;%&quot;) # 绘图 pie(info, labels=piepercent, main = &quot;标题&quot;, col=cols) # 添加颜色样本标注 legend(&quot;topleft&quot;, names, cex=0.8, fill=cols) "],["qq图.html", "第 5 章 QQ图 5.1 绘制QQ图 5.2 参考资料", " 第 5 章 QQ图 5.1 绘制QQ图 5.1.1 R包绘制 基础包qqnorm和qqline函数 R包car 5.1.2 手工绘制 基础工具plot绘制 par(mfrow=c(1,2)) plot(seq(-3,3,0.01), dnorm(seq(-3,3,0.01)), xlab = &#39;x&#39;, ylab = &#39;f(x)&#39;, ylim = c(0,0.5), xaxs = &#39;i&#39;, yaxs = &#39;i&#39;, type = &#39;l&#39;) plot(qnorm(seq(0,1,0.001)), seq(0,1,0.001), xlab = &#39;x&#39;, ylab = &#39;F(x)&#39;, xaxs = &#39;i&#39;, yaxs = &#39;i&#39;, type = &#39;l&#39;) x = seq(-3,3,0.01) par(mfrow=c(1,1)) plot(x,x, main = &#39;Q-Q figure&#39;, xlim = c(-3,3), ylim = c(-3,3), xlab = &#39;Theoretical quantile&#39;, ylab = &#39;Sample quantile&#39;, xaxs = &#39;i&#39;, yaxs = &#39;i&#39;, type = &#39;l&#39;) n = 200 x = seq(-3,3,0.01) par(mfrow=c(1,1)) plot(x,x, xlim = c(-3,3), ylim = c(-3,3), xaxs = &#39;i&#39;, yaxs = &#39;i&#39;, yaxt = &#39;n&#39;, ann = F, type = &#39;l&#39;) axis(2, las = 1) title(main = paste0(&#39;Normal n = &#39;,n), xlab= &#39;Normal quantile&#39;, ylab = &#39;EL quantile&#39;, line = 2) 5.1.3 函数绘制正态qq图 基础包函数qqnorm和qqline，横坐标是标准正态分布的分位数，纵坐标是输入数据的分位数，也就是检验数据是否符合正态分布 qqnorm(qn$nk) qqline(qn$nk, col=2) R包car来绘制 library(car) qqPlot(qn$nk) ## [1] 1 15 5.2 参考资料 网站：简书。QQ图的理解和绘制 网站：CNSD。qq图 Lane, D.M. eBook。Introduction to Statistics "],["gt包画表.html", "第 6 章 gt包画表 6.1 获取数据 6.2 创建gt表格 6.3 添加标题 6.4 添加脚注 6.5 添加左侧边栏 6.6 分组 6.7 总体呈现 6.8 其他", " 第 6 章 gt包画表 # 安装 remotes::install_github(&quot;rstudio/gt&quot;) library(&#39;gt&#39;) library(&#39;dplyr&#39;) 6.1 获取数据 islands_tbl &lt;- dplyr::tibble(name=names(islands),size = islands) %&gt;% dplyr::arrange(desc(size)) %&gt;% dplyr::slice(1:10) islands_tbl ## # A tibble: 10 × 2 ## name size ## &lt;chr&gt; &lt;dbl&gt; ## 1 Asia 16988 ## 2 Africa 11506 ## 3 North America 9390 ## 4 South America 6795 ## 5 Antarctica 5500 ## 6 Europe 3745 ## 7 Australia 2968 ## 8 Greenland 840 ## 9 New Guinea 306 ## 10 Borneo 280 6.2 创建gt表格 gt_tbl &lt;- gt(data = islands_tbl) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #fivqumdncs .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #fivqumdncs .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #fivqumdncs .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #fivqumdncs .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #fivqumdncs .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #fivqumdncs .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #fivqumdncs .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #fivqumdncs .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #fivqumdncs .gt_column_spanner_outer:first-child { padding-left: 0; } #fivqumdncs .gt_column_spanner_outer:last-child { padding-right: 0; } #fivqumdncs .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #fivqumdncs .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #fivqumdncs .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #fivqumdncs .gt_from_md > :first-child { margin-top: 0; } #fivqumdncs .gt_from_md > :last-child { margin-bottom: 0; } #fivqumdncs .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #fivqumdncs .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #fivqumdncs .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #fivqumdncs .gt_row_group_first td { border-top-width: 2px; } #fivqumdncs .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #fivqumdncs .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #fivqumdncs .gt_first_summary_row.thick { border-top-width: 2px; } #fivqumdncs .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #fivqumdncs .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #fivqumdncs .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #fivqumdncs .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #fivqumdncs .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #fivqumdncs .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #fivqumdncs .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #fivqumdncs .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #fivqumdncs .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #fivqumdncs .gt_left { text-align: left; } #fivqumdncs .gt_center { text-align: center; } #fivqumdncs .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #fivqumdncs .gt_font_normal { font-weight: normal; } #fivqumdncs .gt_font_bold { font-weight: bold; } #fivqumdncs .gt_font_italic { font-style: italic; } #fivqumdncs .gt_super { font-size: 65%; } #fivqumdncs .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #fivqumdncs .gt_asterisk { font-size: 100%; vertical-align: 0; } #fivqumdncs .gt_indent_1 { text-indent: 5px; } #fivqumdncs .gt_indent_2 { text-indent: 10px; } #fivqumdncs .gt_indent_3 { text-indent: 15px; } #fivqumdncs .gt_indent_4 { text-indent: 20px; } #fivqumdncs .gt_indent_5 { text-indent: 25px; } name size Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 6.3 添加标题 gt_tbl &lt;- gt_tbl %&gt;% tab_header( title = &quot;Large Landmasses of the World&quot;, subtitle = &quot;The top ten largest are presented&quot; ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #xxetzpumbv .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #xxetzpumbv .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xxetzpumbv .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #xxetzpumbv .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #xxetzpumbv .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xxetzpumbv .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xxetzpumbv .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #xxetzpumbv .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #xxetzpumbv .gt_column_spanner_outer:first-child { padding-left: 0; } #xxetzpumbv .gt_column_spanner_outer:last-child { padding-right: 0; } #xxetzpumbv .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #xxetzpumbv .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #xxetzpumbv .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #xxetzpumbv .gt_from_md > :first-child { margin-top: 0; } #xxetzpumbv .gt_from_md > :last-child { margin-bottom: 0; } #xxetzpumbv .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #xxetzpumbv .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #xxetzpumbv .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #xxetzpumbv .gt_row_group_first td { border-top-width: 2px; } #xxetzpumbv .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xxetzpumbv .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #xxetzpumbv .gt_first_summary_row.thick { border-top-width: 2px; } #xxetzpumbv .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xxetzpumbv .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xxetzpumbv .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #xxetzpumbv .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #xxetzpumbv .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xxetzpumbv .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xxetzpumbv .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #xxetzpumbv .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xxetzpumbv .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #xxetzpumbv .gt_left { text-align: left; } #xxetzpumbv .gt_center { text-align: center; } #xxetzpumbv .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #xxetzpumbv .gt_font_normal { font-weight: normal; } #xxetzpumbv .gt_font_bold { font-weight: bold; } #xxetzpumbv .gt_font_italic { font-style: italic; } #xxetzpumbv .gt_super { font-size: 65%; } #xxetzpumbv .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #xxetzpumbv .gt_asterisk { font-size: 100%; vertical-align: 0; } #xxetzpumbv .gt_indent_1 { text-indent: 5px; } #xxetzpumbv .gt_indent_2 { text-indent: 10px; } #xxetzpumbv .gt_indent_3 { text-indent: 15px; } #xxetzpumbv .gt_indent_4 { text-indent: 20px; } #xxetzpumbv .gt_indent_5 { text-indent: 25px; } Large Landmasses of the World The top ten largest are presented name size Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 # 使用markdown将标题和子标题分别加粗和斜体化 gt(islands_tbl[1:2,]) %&gt;% tab_header( title = md(&quot;**Large Landmasses of the World**&quot;), subtitle = md(&quot;The *top two* largest are presented&quot;) ) html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #gfrhicdosm .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #gfrhicdosm .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #gfrhicdosm .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #gfrhicdosm .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #gfrhicdosm .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #gfrhicdosm .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #gfrhicdosm .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #gfrhicdosm .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #gfrhicdosm .gt_column_spanner_outer:first-child { padding-left: 0; } #gfrhicdosm .gt_column_spanner_outer:last-child { padding-right: 0; } #gfrhicdosm .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #gfrhicdosm .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #gfrhicdosm .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #gfrhicdosm .gt_from_md > :first-child { margin-top: 0; } #gfrhicdosm .gt_from_md > :last-child { margin-bottom: 0; } #gfrhicdosm .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #gfrhicdosm .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #gfrhicdosm .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #gfrhicdosm .gt_row_group_first td { border-top-width: 2px; } #gfrhicdosm .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #gfrhicdosm .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #gfrhicdosm .gt_first_summary_row.thick { border-top-width: 2px; } #gfrhicdosm .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #gfrhicdosm .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #gfrhicdosm .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #gfrhicdosm .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #gfrhicdosm .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #gfrhicdosm .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #gfrhicdosm .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #gfrhicdosm .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #gfrhicdosm .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #gfrhicdosm .gt_left { text-align: left; } #gfrhicdosm .gt_center { text-align: center; } #gfrhicdosm .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #gfrhicdosm .gt_font_normal { font-weight: normal; } #gfrhicdosm .gt_font_bold { font-weight: bold; } #gfrhicdosm .gt_font_italic { font-style: italic; } #gfrhicdosm .gt_super { font-size: 65%; } #gfrhicdosm .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #gfrhicdosm .gt_asterisk { font-size: 100%; vertical-align: 0; } #gfrhicdosm .gt_indent_1 { text-indent: 5px; } #gfrhicdosm .gt_indent_2 { text-indent: 10px; } #gfrhicdosm .gt_indent_3 { text-indent: 15px; } #gfrhicdosm .gt_indent_4 { text-indent: 20px; } #gfrhicdosm .gt_indent_5 { text-indent: 25px; } Large Landmasses of the World The top two largest are presented name size Asia 16988 Africa 11506 gt_tbl &lt;- gt_tbl %&gt;% tab_source_note( source_note = &quot;Source: The World Almanac and Book of Facts, 1975, page 406.&quot; ) %&gt;% tab_source_note( source_note = md(&quot;Reference: McNeil, D. R. (1977) *Interactive Data Analysis*. Wiley.&quot;) ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #rsughcufke .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #rsughcufke .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #rsughcufke .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #rsughcufke .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #rsughcufke .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #rsughcufke .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #rsughcufke .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #rsughcufke .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #rsughcufke .gt_column_spanner_outer:first-child { padding-left: 0; } #rsughcufke .gt_column_spanner_outer:last-child { padding-right: 0; } #rsughcufke .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #rsughcufke .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #rsughcufke .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #rsughcufke .gt_from_md > :first-child { margin-top: 0; } #rsughcufke .gt_from_md > :last-child { margin-bottom: 0; } #rsughcufke .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #rsughcufke .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #rsughcufke .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #rsughcufke .gt_row_group_first td { border-top-width: 2px; } #rsughcufke .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #rsughcufke .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #rsughcufke .gt_first_summary_row.thick { border-top-width: 2px; } #rsughcufke .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #rsughcufke .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #rsughcufke .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #rsughcufke .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #rsughcufke .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #rsughcufke .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #rsughcufke .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #rsughcufke .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #rsughcufke .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #rsughcufke .gt_left { text-align: left; } #rsughcufke .gt_center { text-align: center; } #rsughcufke .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #rsughcufke .gt_font_normal { font-weight: normal; } #rsughcufke .gt_font_bold { font-weight: bold; } #rsughcufke .gt_font_italic { font-style: italic; } #rsughcufke .gt_super { font-size: 65%; } #rsughcufke .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #rsughcufke .gt_asterisk { font-size: 100%; vertical-align: 0; } #rsughcufke .gt_indent_1 { text-indent: 5px; } #rsughcufke .gt_indent_2 { text-indent: 10px; } #rsughcufke .gt_indent_3 { text-indent: 15px; } #rsughcufke .gt_indent_4 { text-indent: 20px; } #rsughcufke .gt_indent_5 { text-indent: 25px; } Large Landmasses of the World The top ten largest are presented name size Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 Source: The World Almanac and Book of Facts, 1975, page 406. Reference: McNeil, D. R. (1977) Interactive Data Analysis. Wiley. 6.4 添加脚注 # 添加带交叉引用的脚注 gt_tbl &lt;- gt_tbl %&gt;% tab_footnote( footnote = &quot;The Americas.&quot;, locations = cells_body(columns = name, rows = 3:4) # 在第3/4行，name这一列添加角标 ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #jkqzytmqlg .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #jkqzytmqlg .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #jkqzytmqlg .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #jkqzytmqlg .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #jkqzytmqlg .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jkqzytmqlg .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #jkqzytmqlg .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #jkqzytmqlg .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #jkqzytmqlg .gt_column_spanner_outer:first-child { padding-left: 0; } #jkqzytmqlg .gt_column_spanner_outer:last-child { padding-right: 0; } #jkqzytmqlg .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #jkqzytmqlg .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #jkqzytmqlg .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #jkqzytmqlg .gt_from_md > :first-child { margin-top: 0; } #jkqzytmqlg .gt_from_md > :last-child { margin-bottom: 0; } #jkqzytmqlg .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #jkqzytmqlg .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #jkqzytmqlg .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #jkqzytmqlg .gt_row_group_first td { border-top-width: 2px; } #jkqzytmqlg .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #jkqzytmqlg .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #jkqzytmqlg .gt_first_summary_row.thick { border-top-width: 2px; } #jkqzytmqlg .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jkqzytmqlg .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #jkqzytmqlg .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #jkqzytmqlg .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #jkqzytmqlg .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #jkqzytmqlg .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #jkqzytmqlg .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #jkqzytmqlg .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #jkqzytmqlg .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #jkqzytmqlg .gt_left { text-align: left; } #jkqzytmqlg .gt_center { text-align: center; } #jkqzytmqlg .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #jkqzytmqlg .gt_font_normal { font-weight: normal; } #jkqzytmqlg .gt_font_bold { font-weight: bold; } #jkqzytmqlg .gt_font_italic { font-style: italic; } #jkqzytmqlg .gt_super { font-size: 65%; } #jkqzytmqlg .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #jkqzytmqlg .gt_asterisk { font-size: 100%; vertical-align: 0; } #jkqzytmqlg .gt_indent_1 { text-indent: 5px; } #jkqzytmqlg .gt_indent_2 { text-indent: 10px; } #jkqzytmqlg .gt_indent_3 { text-indent: 15px; } #jkqzytmqlg .gt_indent_4 { text-indent: 20px; } #jkqzytmqlg .gt_indent_5 { text-indent: 25px; } Large Landmasses of the World The top ten largest are presented name size Asia 16988 Africa 11506 North America1 9390 South America1 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 Source: The World Almanac and Book of Facts, 1975, page 406. Reference: McNeil, D. R. (1977) Interactive Data Analysis. Wiley. 1 The Americas. 6.5 添加左侧边栏 # 添加左侧边栏 gt_tbl &lt;- islands_tbl %&gt;% gt(rowname_col = &quot;name&quot;) %&gt;% # 使用name这一列作为左侧边栏 tab_stubhead(label = &quot;landmass&quot;) # 添加左侧边栏的标题 gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #yxzjzuxkyn .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #yxzjzuxkyn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #yxzjzuxkyn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #yxzjzuxkyn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #yxzjzuxkyn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #yxzjzuxkyn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #yxzjzuxkyn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #yxzjzuxkyn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #yxzjzuxkyn .gt_column_spanner_outer:first-child { padding-left: 0; } #yxzjzuxkyn .gt_column_spanner_outer:last-child { padding-right: 0; } #yxzjzuxkyn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #yxzjzuxkyn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #yxzjzuxkyn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #yxzjzuxkyn .gt_from_md > :first-child { margin-top: 0; } #yxzjzuxkyn .gt_from_md > :last-child { margin-bottom: 0; } #yxzjzuxkyn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #yxzjzuxkyn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #yxzjzuxkyn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #yxzjzuxkyn .gt_row_group_first td { border-top-width: 2px; } #yxzjzuxkyn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #yxzjzuxkyn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #yxzjzuxkyn .gt_first_summary_row.thick { border-top-width: 2px; } #yxzjzuxkyn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #yxzjzuxkyn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #yxzjzuxkyn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #yxzjzuxkyn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #yxzjzuxkyn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #yxzjzuxkyn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #yxzjzuxkyn .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #yxzjzuxkyn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #yxzjzuxkyn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #yxzjzuxkyn .gt_left { text-align: left; } #yxzjzuxkyn .gt_center { text-align: center; } #yxzjzuxkyn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #yxzjzuxkyn .gt_font_normal { font-weight: normal; } #yxzjzuxkyn .gt_font_bold { font-weight: bold; } #yxzjzuxkyn .gt_font_italic { font-style: italic; } #yxzjzuxkyn .gt_super { font-size: 65%; } #yxzjzuxkyn .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #yxzjzuxkyn .gt_asterisk { font-size: 100%; vertical-align: 0; } #yxzjzuxkyn .gt_indent_1 { text-indent: 5px; } #yxzjzuxkyn .gt_indent_2 { text-indent: 10px; } #yxzjzuxkyn .gt_indent_3 { text-indent: 15px; } #yxzjzuxkyn .gt_indent_4 { text-indent: 20px; } #yxzjzuxkyn .gt_indent_5 { text-indent: 25px; } landmass size Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 6.6 分组 # 分组 gt_tbl &lt;- gt_tbl %&gt;% tab_row_group( label = &quot;continent&quot;, rows = 1:6 # 1-6行是大洲 ) %&gt;% tab_row_group( label = &quot;country&quot;, rows = c(&quot;Australia&quot;, &quot;Greenland&quot;) ) %&gt;% tab_row_group( label = &quot;subregion&quot;, rows = c(&quot;New Guinea&quot;, &quot;Borneo&quot;) ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #pmkdfxbxik .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #pmkdfxbxik .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #pmkdfxbxik .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #pmkdfxbxik .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #pmkdfxbxik .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #pmkdfxbxik .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #pmkdfxbxik .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #pmkdfxbxik .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #pmkdfxbxik .gt_column_spanner_outer:first-child { padding-left: 0; } #pmkdfxbxik .gt_column_spanner_outer:last-child { padding-right: 0; } #pmkdfxbxik .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #pmkdfxbxik .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #pmkdfxbxik .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #pmkdfxbxik .gt_from_md > :first-child { margin-top: 0; } #pmkdfxbxik .gt_from_md > :last-child { margin-bottom: 0; } #pmkdfxbxik .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #pmkdfxbxik .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #pmkdfxbxik .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #pmkdfxbxik .gt_row_group_first td { border-top-width: 2px; } #pmkdfxbxik .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #pmkdfxbxik .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #pmkdfxbxik .gt_first_summary_row.thick { border-top-width: 2px; } #pmkdfxbxik .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #pmkdfxbxik .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #pmkdfxbxik .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #pmkdfxbxik .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #pmkdfxbxik .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #pmkdfxbxik .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #pmkdfxbxik .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #pmkdfxbxik .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #pmkdfxbxik .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #pmkdfxbxik .gt_left { text-align: left; } #pmkdfxbxik .gt_center { text-align: center; } #pmkdfxbxik .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #pmkdfxbxik .gt_font_normal { font-weight: normal; } #pmkdfxbxik .gt_font_bold { font-weight: bold; } #pmkdfxbxik .gt_font_italic { font-style: italic; } #pmkdfxbxik .gt_super { font-size: 65%; } #pmkdfxbxik .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #pmkdfxbxik .gt_asterisk { font-size: 100%; vertical-align: 0; } #pmkdfxbxik .gt_indent_1 { text-indent: 5px; } #pmkdfxbxik .gt_indent_2 { text-indent: 10px; } #pmkdfxbxik .gt_indent_3 { text-indent: 15px; } #pmkdfxbxik .gt_indent_4 { text-indent: 20px; } #pmkdfxbxik .gt_indent_5 { text-indent: 25px; } landmass size subregion New Guinea 306 Borneo 280 country Australia 2968 Greenland 840 continent Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 6.7 总体呈现 # 全部放入一起 gt_tbl &lt;- islands_tbl %&gt;% gt(rowname_col = &quot;name&quot;) %&gt;% tab_stubhead(label = &quot;landmass&quot;) %&gt;% tab_row_group( label = &quot;continent&quot;, rows = 1:6 ) %&gt;% tab_row_group( label = &quot;country&quot;, rows = c(&quot;Australia&quot;, &quot;Greenland&quot;) ) %&gt;% tab_row_group( label = &quot;subregion&quot;, rows = c(&quot;New Guinea&quot;, &quot;Borneo&quot;) ) %&gt;% tab_header( title = &quot;Large Landmasses of the World&quot;, subtitle = &quot;The top ten largest are presented&quot; ) %&gt;% tab_source_note( source_note = &quot;Source: The World Almanac and Book of Facts, 1975, page 406.&quot; ) %&gt;% tab_source_note( source_note = md(&quot;Reference: McNeil, D. R. (1977) *Interactive Data Analysis*. Wiley.&quot;) ) %&gt;% tab_footnote( footnote = md(&quot;The **largest** by area.&quot;), locations = cells_body( columns = size, rows = 1 ) ) %&gt;% tab_footnote( footnote = &quot;The lowest by population.&quot;, locations = cells_body( columns = size, rows = contains(&quot;arc&quot;) ) ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #xowvciqbuu .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #xowvciqbuu .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xowvciqbuu .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #xowvciqbuu .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #xowvciqbuu .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xowvciqbuu .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xowvciqbuu .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #xowvciqbuu .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #xowvciqbuu .gt_column_spanner_outer:first-child { padding-left: 0; } #xowvciqbuu .gt_column_spanner_outer:last-child { padding-right: 0; } #xowvciqbuu .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #xowvciqbuu .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #xowvciqbuu .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #xowvciqbuu .gt_from_md > :first-child { margin-top: 0; } #xowvciqbuu .gt_from_md > :last-child { margin-bottom: 0; } #xowvciqbuu .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #xowvciqbuu .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #xowvciqbuu .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #xowvciqbuu .gt_row_group_first td { border-top-width: 2px; } #xowvciqbuu .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xowvciqbuu .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #xowvciqbuu .gt_first_summary_row.thick { border-top-width: 2px; } #xowvciqbuu .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xowvciqbuu .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xowvciqbuu .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #xowvciqbuu .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #xowvciqbuu .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xowvciqbuu .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xowvciqbuu .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #xowvciqbuu .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xowvciqbuu .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #xowvciqbuu .gt_left { text-align: left; } #xowvciqbuu .gt_center { text-align: center; } #xowvciqbuu .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #xowvciqbuu .gt_font_normal { font-weight: normal; } #xowvciqbuu .gt_font_bold { font-weight: bold; } #xowvciqbuu .gt_font_italic { font-style: italic; } #xowvciqbuu .gt_super { font-size: 65%; } #xowvciqbuu .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #xowvciqbuu .gt_asterisk { font-size: 100%; vertical-align: 0; } #xowvciqbuu .gt_indent_1 { text-indent: 5px; } #xowvciqbuu .gt_indent_2 { text-indent: 10px; } #xowvciqbuu .gt_indent_3 { text-indent: 15px; } #xowvciqbuu .gt_indent_4 { text-indent: 20px; } #xowvciqbuu .gt_indent_5 { text-indent: 25px; } Large Landmasses of the World The top ten largest are presented landmass size subregion New Guinea 306 Borneo 280 country Australia 2968 Greenland 840 continent Asia 1 16988 Africa 11506 North America 9390 South America 6795 Antarctica 2 5500 Europe 3745 Source: The World Almanac and Book of Facts, 1975, page 406. Reference: McNeil, D. R. (1977) Interactive Data Analysis. Wiley. 1 The largest by area. 2 The lowest by population. 6.8 其他 # 增加列组别 gt_tbl &lt;- gt(airquality) %&gt;% tab_header( title = &quot;New York Air Quality Measurements&quot;, subtitle = &quot;Daily measurements in New York City (May 1-10, 1973)&quot; ) %&gt;% tab_spanner( label = &quot;Time&quot;, columns = c(Month, Day) ) %&gt;% tab_spanner( label = &quot;Measurement&quot;, columns = c(Ozone, Solar.R, Wind, Temp) ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #ieijchyjpj .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ieijchyjpj .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ieijchyjpj .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ieijchyjpj .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ieijchyjpj .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ieijchyjpj .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ieijchyjpj .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ieijchyjpj .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ieijchyjpj .gt_column_spanner_outer:first-child { padding-left: 0; } #ieijchyjpj .gt_column_spanner_outer:last-child { padding-right: 0; } #ieijchyjpj .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ieijchyjpj .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #ieijchyjpj .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ieijchyjpj .gt_from_md > :first-child { margin-top: 0; } #ieijchyjpj .gt_from_md > :last-child { margin-bottom: 0; } #ieijchyjpj .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ieijchyjpj .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ieijchyjpj .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ieijchyjpj .gt_row_group_first td { border-top-width: 2px; } #ieijchyjpj .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ieijchyjpj .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ieijchyjpj .gt_first_summary_row.thick { border-top-width: 2px; } #ieijchyjpj .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ieijchyjpj .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ieijchyjpj .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ieijchyjpj .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ieijchyjpj .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ieijchyjpj .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ieijchyjpj .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #ieijchyjpj .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ieijchyjpj .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ieijchyjpj .gt_left { text-align: left; } #ieijchyjpj .gt_center { text-align: center; } #ieijchyjpj .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ieijchyjpj .gt_font_normal { font-weight: normal; } #ieijchyjpj .gt_font_bold { font-weight: bold; } #ieijchyjpj .gt_font_italic { font-style: italic; } #ieijchyjpj .gt_super { font-size: 65%; } #ieijchyjpj .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #ieijchyjpj .gt_asterisk { font-size: 100%; vertical-align: 0; } #ieijchyjpj .gt_indent_1 { text-indent: 5px; } #ieijchyjpj .gt_indent_2 { text-indent: 10px; } #ieijchyjpj .gt_indent_3 { text-indent: 15px; } #ieijchyjpj .gt_indent_4 { text-indent: 20px; } #ieijchyjpj .gt_indent_5 { text-indent: 25px; } New York Air Quality Measurements Daily measurements in New York City (May 1-10, 1973) Measurement Time Ozone Solar.R Wind Temp Month Day 41 190 7.4 67 5 1 36 118 8.0 72 5 2 12 149 12.6 74 5 3 18 313 11.5 62 5 4 NA NA 14.3 56 5 5 28 NA 14.9 66 5 6 23 299 8.6 65 5 7 19 99 13.8 59 5 8 8 19 20.1 61 5 9 NA 194 8.6 69 5 10 7 NA 6.9 74 5 11 16 256 9.7 69 5 12 11 290 9.2 66 5 13 14 274 10.9 68 5 14 18 65 13.2 58 5 15 14 334 11.5 64 5 16 34 307 12.0 66 5 17 6 78 18.4 57 5 18 30 322 11.5 68 5 19 11 44 9.7 62 5 20 1 8 9.7 59 5 21 11 320 16.6 73 5 22 4 25 9.7 61 5 23 32 92 12.0 61 5 24 NA 66 16.6 57 5 25 NA 266 14.9 58 5 26 NA NA 8.0 57 5 27 23 13 12.0 67 5 28 45 252 14.9 81 5 29 115 223 5.7 79 5 30 37 279 7.4 76 5 31 NA 286 8.6 78 6 1 NA 287 9.7 74 6 2 NA 242 16.1 67 6 3 NA 186 9.2 84 6 4 NA 220 8.6 85 6 5 NA 264 14.3 79 6 6 29 127 9.7 82 6 7 NA 273 6.9 87 6 8 71 291 13.8 90 6 9 39 323 11.5 87 6 10 NA 259 10.9 93 6 11 NA 250 9.2 92 6 12 23 148 8.0 82 6 13 NA 332 13.8 80 6 14 NA 322 11.5 79 6 15 21 191 14.9 77 6 16 37 284 20.7 72 6 17 20 37 9.2 65 6 18 12 120 11.5 73 6 19 13 137 10.3 76 6 20 NA 150 6.3 77 6 21 NA 59 1.7 76 6 22 NA 91 4.6 76 6 23 NA 250 6.3 76 6 24 NA 135 8.0 75 6 25 NA 127 8.0 78 6 26 NA 47 10.3 73 6 27 NA 98 11.5 80 6 28 NA 31 14.9 77 6 29 NA 138 8.0 83 6 30 135 269 4.1 84 7 1 49 248 9.2 85 7 2 32 236 9.2 81 7 3 NA 101 10.9 84 7 4 64 175 4.6 83 7 5 40 314 10.9 83 7 6 77 276 5.1 88 7 7 97 267 6.3 92 7 8 97 272 5.7 92 7 9 85 175 7.4 89 7 10 NA 139 8.6 82 7 11 10 264 14.3 73 7 12 27 175 14.9 81 7 13 NA 291 14.9 91 7 14 7 48 14.3 80 7 15 48 260 6.9 81 7 16 35 274 10.3 82 7 17 61 285 6.3 84 7 18 79 187 5.1 87 7 19 63 220 11.5 85 7 20 16 7 6.9 74 7 21 NA 258 9.7 81 7 22 NA 295 11.5 82 7 23 80 294 8.6 86 7 24 108 223 8.0 85 7 25 20 81 8.6 82 7 26 52 82 12.0 86 7 27 82 213 7.4 88 7 28 50 275 7.4 86 7 29 64 253 7.4 83 7 30 59 254 9.2 81 7 31 39 83 6.9 81 8 1 9 24 13.8 81 8 2 16 77 7.4 82 8 3 78 NA 6.9 86 8 4 35 NA 7.4 85 8 5 66 NA 4.6 87 8 6 122 255 4.0 89 8 7 89 229 10.3 90 8 8 110 207 8.0 90 8 9 NA 222 8.6 92 8 10 NA 137 11.5 86 8 11 44 192 11.5 86 8 12 28 273 11.5 82 8 13 65 157 9.7 80 8 14 NA 64 11.5 79 8 15 22 71 10.3 77 8 16 59 51 6.3 79 8 17 23 115 7.4 76 8 18 31 244 10.9 78 8 19 44 190 10.3 78 8 20 21 259 15.5 77 8 21 9 36 14.3 72 8 22 NA 255 12.6 75 8 23 45 212 9.7 79 8 24 168 238 3.4 81 8 25 73 215 8.0 86 8 26 NA 153 5.7 88 8 27 76 203 9.7 97 8 28 118 225 2.3 94 8 29 84 237 6.3 96 8 30 85 188 6.3 94 8 31 96 167 6.9 91 9 1 78 197 5.1 92 9 2 73 183 2.8 93 9 3 91 189 4.6 93 9 4 47 95 7.4 87 9 5 32 92 15.5 84 9 6 20 252 10.9 80 9 7 23 220 10.3 78 9 8 21 230 10.9 75 9 9 24 259 9.7 73 9 10 44 236 14.9 81 9 11 21 259 15.5 76 9 12 28 238 6.3 77 9 13 9 24 10.9 71 9 14 13 112 11.5 71 9 15 46 237 6.9 78 9 16 18 224 13.8 67 9 17 13 27 10.3 76 9 18 24 238 10.3 68 9 19 16 201 8.0 82 9 20 13 238 12.6 64 9 21 23 14 9.2 71 9 22 36 139 10.3 81 9 23 7 49 10.3 69 9 24 14 20 16.6 63 9 25 30 193 6.9 70 9 26 NA 145 13.2 77 9 27 14 191 14.3 75 9 28 18 131 8.0 76 9 29 20 223 11.5 68 9 30 # 支持随意更改列的位置以及HTML语法： gt_tbl &lt;- gt_tbl %&gt;% cols_move_to_start( # 移到前面去 columns = c(Month, Day) ) %&gt;% cols_label( Ozone = html(&quot;Ozone,&lt;br&gt;ppbV&quot;), Solar.R = html(&quot;Solar R.,&lt;br&gt;cal/m&lt;sup&gt;2&lt;/sup&gt;&quot;), Wind = html(&quot;Wind,&lt;br&gt;mph&quot;), Temp = html(&quot;Temp,&lt;br&gt;&amp;deg;F&quot;) ) gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #tducppsqgd .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #tducppsqgd .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #tducppsqgd .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #tducppsqgd .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #tducppsqgd .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tducppsqgd .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #tducppsqgd .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #tducppsqgd .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #tducppsqgd .gt_column_spanner_outer:first-child { padding-left: 0; } #tducppsqgd .gt_column_spanner_outer:last-child { padding-right: 0; } #tducppsqgd .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #tducppsqgd .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #tducppsqgd .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #tducppsqgd .gt_from_md > :first-child { margin-top: 0; } #tducppsqgd .gt_from_md > :last-child { margin-bottom: 0; } #tducppsqgd .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #tducppsqgd .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #tducppsqgd .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #tducppsqgd .gt_row_group_first td { border-top-width: 2px; } #tducppsqgd .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #tducppsqgd .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #tducppsqgd .gt_first_summary_row.thick { border-top-width: 2px; } #tducppsqgd .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tducppsqgd .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #tducppsqgd .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #tducppsqgd .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #tducppsqgd .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tducppsqgd .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #tducppsqgd .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #tducppsqgd .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #tducppsqgd .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #tducppsqgd .gt_left { text-align: left; } #tducppsqgd .gt_center { text-align: center; } #tducppsqgd .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #tducppsqgd .gt_font_normal { font-weight: normal; } #tducppsqgd .gt_font_bold { font-weight: bold; } #tducppsqgd .gt_font_italic { font-style: italic; } #tducppsqgd .gt_super { font-size: 65%; } #tducppsqgd .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #tducppsqgd .gt_asterisk { font-size: 100%; vertical-align: 0; } #tducppsqgd .gt_indent_1 { text-indent: 5px; } #tducppsqgd .gt_indent_2 { text-indent: 10px; } #tducppsqgd .gt_indent_3 { text-indent: 15px; } #tducppsqgd .gt_indent_4 { text-indent: 20px; } #tducppsqgd .gt_indent_5 { text-indent: 25px; } New York Air Quality Measurements Daily measurements in New York City (May 1-10, 1973) Time Measurement Month Day Ozone,ppbV Solar R.,cal/m2 Wind,mph Temp,&deg;F 5 1 41 190 7.4 67 5 2 36 118 8.0 72 5 3 12 149 12.6 74 5 4 18 313 11.5 62 5 5 NA NA 14.3 56 5 6 28 NA 14.9 66 5 7 23 299 8.6 65 5 8 19 99 13.8 59 5 9 8 19 20.1 61 5 10 NA 194 8.6 69 5 11 7 NA 6.9 74 5 12 16 256 9.7 69 5 13 11 290 9.2 66 5 14 14 274 10.9 68 5 15 18 65 13.2 58 5 16 14 334 11.5 64 5 17 34 307 12.0 66 5 18 6 78 18.4 57 5 19 30 322 11.5 68 5 20 11 44 9.7 62 5 21 1 8 9.7 59 5 22 11 320 16.6 73 5 23 4 25 9.7 61 5 24 32 92 12.0 61 5 25 NA 66 16.6 57 5 26 NA 266 14.9 58 5 27 NA NA 8.0 57 5 28 23 13 12.0 67 5 29 45 252 14.9 81 5 30 115 223 5.7 79 5 31 37 279 7.4 76 6 1 NA 286 8.6 78 6 2 NA 287 9.7 74 6 3 NA 242 16.1 67 6 4 NA 186 9.2 84 6 5 NA 220 8.6 85 6 6 NA 264 14.3 79 6 7 29 127 9.7 82 6 8 NA 273 6.9 87 6 9 71 291 13.8 90 6 10 39 323 11.5 87 6 11 NA 259 10.9 93 6 12 NA 250 9.2 92 6 13 23 148 8.0 82 6 14 NA 332 13.8 80 6 15 NA 322 11.5 79 6 16 21 191 14.9 77 6 17 37 284 20.7 72 6 18 20 37 9.2 65 6 19 12 120 11.5 73 6 20 13 137 10.3 76 6 21 NA 150 6.3 77 6 22 NA 59 1.7 76 6 23 NA 91 4.6 76 6 24 NA 250 6.3 76 6 25 NA 135 8.0 75 6 26 NA 127 8.0 78 6 27 NA 47 10.3 73 6 28 NA 98 11.5 80 6 29 NA 31 14.9 77 6 30 NA 138 8.0 83 7 1 135 269 4.1 84 7 2 49 248 9.2 85 7 3 32 236 9.2 81 7 4 NA 101 10.9 84 7 5 64 175 4.6 83 7 6 40 314 10.9 83 7 7 77 276 5.1 88 7 8 97 267 6.3 92 7 9 97 272 5.7 92 7 10 85 175 7.4 89 7 11 NA 139 8.6 82 7 12 10 264 14.3 73 7 13 27 175 14.9 81 7 14 NA 291 14.9 91 7 15 7 48 14.3 80 7 16 48 260 6.9 81 7 17 35 274 10.3 82 7 18 61 285 6.3 84 7 19 79 187 5.1 87 7 20 63 220 11.5 85 7 21 16 7 6.9 74 7 22 NA 258 9.7 81 7 23 NA 295 11.5 82 7 24 80 294 8.6 86 7 25 108 223 8.0 85 7 26 20 81 8.6 82 7 27 52 82 12.0 86 7 28 82 213 7.4 88 7 29 50 275 7.4 86 7 30 64 253 7.4 83 7 31 59 254 9.2 81 8 1 39 83 6.9 81 8 2 9 24 13.8 81 8 3 16 77 7.4 82 8 4 78 NA 6.9 86 8 5 35 NA 7.4 85 8 6 66 NA 4.6 87 8 7 122 255 4.0 89 8 8 89 229 10.3 90 8 9 110 207 8.0 90 8 10 NA 222 8.6 92 8 11 NA 137 11.5 86 8 12 44 192 11.5 86 8 13 28 273 11.5 82 8 14 65 157 9.7 80 8 15 NA 64 11.5 79 8 16 22 71 10.3 77 8 17 59 51 6.3 79 8 18 23 115 7.4 76 8 19 31 244 10.9 78 8 20 44 190 10.3 78 8 21 21 259 15.5 77 8 22 9 36 14.3 72 8 23 NA 255 12.6 75 8 24 45 212 9.7 79 8 25 168 238 3.4 81 8 26 73 215 8.0 86 8 27 NA 153 5.7 88 8 28 76 203 9.7 97 8 29 118 225 2.3 94 8 30 84 237 6.3 96 8 31 85 188 6.3 94 9 1 96 167 6.9 91 9 2 78 197 5.1 92 9 3 73 183 2.8 93 9 4 91 189 4.6 93 9 5 47 95 7.4 87 9 6 32 92 15.5 84 9 7 20 252 10.9 80 9 8 23 220 10.3 78 9 9 21 230 10.9 75 9 10 24 259 9.7 73 9 11 44 236 14.9 81 9 12 21 259 15.5 76 9 13 28 238 6.3 77 9 14 9 24 10.9 71 9 15 13 112 11.5 71 9 16 46 237 6.9 78 9 17 18 224 13.8 67 9 18 13 27 10.3 76 9 19 24 238 10.3 68 9 20 16 201 8.0 82 9 21 13 238 12.6 64 9 22 23 14 9.2 71 9 23 36 139 10.3 81 9 24 7 49 10.3 69 9 25 14 20 16.6 63 9 26 30 193 6.9 70 9 27 NA 145 13.2 77 9 28 14 191 14.3 75 9 29 18 131 8.0 76 9 30 20 223 11.5 68 # 创建根 gt_tbl &lt;- islands_tbl %&gt;% gt(rowname_col = &quot;name&quot;) # 展示 gt_tbl html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #dabxxspuzx .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #dabxxspuzx .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #dabxxspuzx .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #dabxxspuzx .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #dabxxspuzx .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dabxxspuzx .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #dabxxspuzx .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #dabxxspuzx .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #dabxxspuzx .gt_column_spanner_outer:first-child { padding-left: 0; } #dabxxspuzx .gt_column_spanner_outer:last-child { padding-right: 0; } #dabxxspuzx .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #dabxxspuzx .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #dabxxspuzx .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #dabxxspuzx .gt_from_md > :first-child { margin-top: 0; } #dabxxspuzx .gt_from_md > :last-child { margin-bottom: 0; } #dabxxspuzx .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #dabxxspuzx .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #dabxxspuzx .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #dabxxspuzx .gt_row_group_first td { border-top-width: 2px; } #dabxxspuzx .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #dabxxspuzx .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #dabxxspuzx .gt_first_summary_row.thick { border-top-width: 2px; } #dabxxspuzx .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dabxxspuzx .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #dabxxspuzx .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #dabxxspuzx .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #dabxxspuzx .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dabxxspuzx .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #dabxxspuzx .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #dabxxspuzx .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #dabxxspuzx .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #dabxxspuzx .gt_left { text-align: left; } #dabxxspuzx .gt_center { text-align: center; } #dabxxspuzx .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #dabxxspuzx .gt_font_normal { font-weight: normal; } #dabxxspuzx .gt_font_bold { font-weight: bold; } #dabxxspuzx .gt_font_italic { font-style: italic; } #dabxxspuzx .gt_super { font-size: 65%; } #dabxxspuzx .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #dabxxspuzx .gt_asterisk { font-size: 100%; vertical-align: 0; } #dabxxspuzx .gt_indent_1 { text-indent: 5px; } #dabxxspuzx .gt_indent_2 { text-indent: 10px; } #dabxxspuzx .gt_indent_3 { text-indent: 15px; } #dabxxspuzx .gt_indent_4 { text-indent: 20px; } #dabxxspuzx .gt_indent_5 { text-indent: 25px; } size Asia 16988 Africa 11506 North America 9390 South America 6795 Antarctica 5500 Europe 3745 Australia 2968 Greenland 840 New Guinea 306 Borneo 280 "],["kableextra包画图.html", "第 7 章 kableExtra包画图 7.1 生成html表格 7.2 渲染表格 7.3 搭配dplyr 7.4 搭配formattable 7.5 列组 7.6 行组 7.7 保存HTML表格", " 第 7 章 kableExtra包画图 记录一些自己可能会常用的表格，至于更多的可以参考大佬们写的教程，真的很酷。 中文教程 英文教程 library(kableExtra) 7.1 生成html表格 dt &lt;- mtcars[1:5, 1:6] kable(dt, &quot;html&quot;) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 7.2 渲染表格 # bootstrap是个开源的CSS库，可以用来很方便地美化HTML页面。 dt %&gt;% kable(&quot;html&quot;) %&gt;% kable_styling() mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 其他风格 striped bordered hover condensed responsive # 给表格加上斑马纹和悬浮效果 kable(dt, &quot;html&quot;) %&gt;% kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;)) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 # 让内容显得更紧凑 kable(dt, &quot;html&quot;) %&gt;% kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;)) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 # 让表格样式随屏幕宽度变化，更适合手机屏。 kable(dt, &quot;html&quot;) %&gt;% kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 # 控制表格的宽度 kable(dt, &quot;html&quot;) %&gt;% kable_styling(bootstrap_options = &quot;striped&quot;, full_width = F) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 7.3 搭配dplyr library(dplyr) mtcars[1:10, 1:2] %&gt;% mutate( car = row.names(.), # You don&#39;t need format = &quot;html&quot; if you have ever defined options(knitr.table.format) mpg = cell_spec(mpg, &quot;html&quot;, color = ifelse(mpg &gt; 20, &quot;red&quot;, &quot;blue&quot;)), cyl = cell_spec(cyl, &quot;html&quot;, color = &quot;white&quot;, align = &quot;c&quot;, angle = 45, background = factor(cyl, c(4, 6, 8), c(&quot;#666666&quot;, &quot;#999999&quot;, &quot;#BBBBBB&quot;))) ) %&gt;% select(car, mpg, cyl) %&gt;% kable(&quot;html&quot;, escape = F) %&gt;% kable_styling(&quot;striped&quot;, full_width = F) car mpg cyl Mazda RX4 Mazda RX4 21 6 Mazda RX4 Wag Mazda RX4 Wag 21 6 Datsun 710 Datsun 710 22.8 4 Hornet 4 Drive Hornet 4 Drive 21.4 6 Hornet Sportabout Hornet Sportabout 18.7 8 Valiant Valiant 18.1 6 Duster 360 Duster 360 14.3 8 Merc 240D Merc 240D 24.4 4 Merc 230 Merc 230 22.8 4 Merc 280 Merc 280 19.2 6 7.4 搭配formattable library(formattable) mtcars[1:5, 1:4] %&gt;% mutate( car = row.names(.), mpg = color_tile(&quot;white&quot;, &quot;orange&quot;)(mpg), cyl = cell_spec(cyl, &quot;html&quot;, angle = (1:5)*60, background = &quot;red&quot;, color = &quot;white&quot;, align = &quot;center&quot;), disp = ifelse(disp &gt; 200, cell_spec(disp, &quot;html&quot;, color = &quot;red&quot;, bold = T), cell_spec(disp, &quot;html&quot;, color = &quot;green&quot;, italic = T)), hp = color_bar(&quot;lightgreen&quot;)(hp) ) %&gt;% select(car, everything()) %&gt;% kable(&quot;html&quot;, escape = F) %&gt;% kable_styling(&quot;hover&quot;, full_width = F) %&gt;% column_spec(5, width = &quot;3cm&quot;) %&gt;% add_header_above(c(&quot; &quot;, &quot;Hello&quot; = 2, &quot;World&quot; = 3)) Hello World car mpg cyl disp hp Mazda RX4 Mazda RX4 21.0 6 160 110 Mazda RX4 Wag Mazda RX4 Wag 21.0 6 160 110 Datsun 710 Datsun 710 22.8 4 108 93 Hornet 4 Drive Hornet 4 Drive 21.4 6 258 110 Hornet Sportabout Hornet Sportabout 18.7 8 360 175 7.5 列组 kable(dt, &quot;html&quot;) %&gt;% kable_styling(&quot;striped&quot;) %&gt;% add_header_above(c(&quot; &quot; = 1, &quot;Group 1&quot; = 2, &quot;Group 2&quot; = 2, &quot;Group 3&quot; = 2)) Group 1 Group 2 Group 3 mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 kable(dt, &quot;html&quot;) %&gt;% kable_styling(c(&quot;striped&quot;, &quot;bordered&quot;)) %&gt;% add_header_above(c(&quot; &quot;, &quot;Group 1&quot; = 2, &quot;Group 2&quot; = 2, &quot;Group 3&quot; = 2)) %&gt;% add_header_above(c(&quot; &quot;, &quot;Group 4&quot; = 4, &quot;Group 5&quot; = 2)) %&gt;% add_header_above(c(&quot; &quot;, &quot;Group 6&quot; = 6)) Group 6 Group 4 Group 5 Group 1 Group 2 Group 3 mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 7.6 行组 kable(mtcars[1:10, 1:6], &quot;html&quot;, caption = &quot;Group Rows&quot;) %&gt;% kable_styling(&quot;striped&quot;, full_width = F) %&gt;% group_rows(index = c(&quot; &quot; = 3, &quot;Group 1&quot; = 4, &quot;Group 2&quot; = 3)) 表 7.1: Group Rows mpg cyl disp hp drat wt Mazda RX4 21.0 6 160.0 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160.0 110 3.90 2.875 Datsun 710 22.8 4 108.0 93 3.85 2.320 Group 1 Hornet 4 Drive 21.4 6 258.0 110 3.08 3.215 Hornet Sportabout 18.7 8 360.0 175 3.15 3.440 Valiant 18.1 6 225.0 105 2.76 3.460 Duster 360 14.3 8 360.0 245 3.21 3.570 Group 2 Merc 240D 24.4 4 146.7 62 3.69 3.190 Merc 230 22.8 4 140.8 95 3.92 3.150 Merc 280 19.2 6 167.6 123 3.92 3.440 kable(dt, &quot;html&quot;) %&gt;% kable_styling(&quot;striped&quot;, full_width = F) %&gt;% group_rows(&quot;Group 1&quot;, 3, 5, label_row_css = &quot;background: repeating-linear-gradient(45deg, #d9230f, #d9230f 10px, #f96352 10px, #f96352 20px); color: #fff;&quot;) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Group 1 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 # 行的缩进 kable(dt, &quot;html&quot;) %&gt;% kable_styling(&quot;striped&quot;, full_width = F) %&gt;% add_indent(c(1, 3, 5)) mpg cyl disp hp drat wt Mazda RX4 21.0 6 160 110 3.90 2.620 Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 Datsun 710 22.8 4 108 93 3.85 2.320 Hornet 4 Drive 21.4 6 258 110 3.08 3.215 Hornet Sportabout 18.7 8 360 175 3.15 3.440 # 合并行 collapse_rows_dt &lt;- data.frame(C1 = c(rep(&quot;a&quot;, 10), rep(&quot;b&quot;, 5)), C2 = c(rep(&quot;c&quot;, 7), rep(&quot;d&quot;, 3), rep(&quot;c&quot;, 2), rep(&quot;d&quot;, 3)), C3 = 1:15, C4 = sample(c(0,1), 15, replace = TRUE)) kable(collapse_rows_dt, &quot;html&quot;, align = &quot;c&quot;) %&gt;% kable_styling(full_width = F) %&gt;% column_spec(1, bold = T) %&gt;% collapse_rows(columns = 1:2) C1 C2 C3 C4 a c 1 0 a c 2 0 a c 3 0 a c 4 1 a c 5 1 a c 6 0 a c 7 0 a d 8 1 a d 9 0 a d 10 1 b c 11 1 b c 12 1 b d 13 1 b d 14 0 b d 15 1 7.7 保存HTML表格 kable(mtcars) %&gt;% kable_styling() %&gt;% save_kable(file = &quot;tables/table1.html&quot;, self_contained = T) "],["表格绘制.html", "第 8 章 表格绘制 8.1 单一的表格 8.2 丰富的表格", " 第 8 章 表格绘制 参考来源：公众号“Datacharm”，作者宁俊骐 8.1 单一的表格 这一部分可能有很多优秀的第三方包可以制作，这里介绍前3个优秀的表格制作包，分别为 DT gt sjPlot gtsummary kableExtra formattable reactable flextable 8.1.1 DT包 ## 可生成交互式HTML表格 library(DT) datatable(iris) # 定制表格 datatable(iris) %&gt;% formatStyle(&#39;Sepal.Length&#39;, fontWeight = styleInterval(5, c(&#39;normal&#39;, &#39;bold&#39;))) %&gt;% formatStyle( &#39;Sepal.Width&#39;, color = styleInterval(c(3.4, 3.8), c(&#39;white&#39;, &#39;blue&#39;, &#39;red&#39;)), backgroundColor = styleInterval(3.4, c(&#39;gray&#39;, &#39;yellow&#39;)) ) %&gt;% formatStyle( &#39;Petal.Length&#39;, background = styleColorBar(iris$Petal.Length, &#39;steelblue&#39;), backgroundSize = &#39;100% 90%&#39;, backgroundRepeat = &#39;no-repeat&#39;, backgroundPosition = &#39;center&#39; ) %&gt;% formatStyle( &#39;Species&#39;, transform = &#39;rotateX(45deg) rotateY(20deg) rotateZ(30deg)&#39;, backgroundColor = styleEqual( unique(iris$Species), c(&#39;lightblue&#39;, &#39;lightgreen&#39;, &#39;lightpink&#39;) )) 8.1.2 gt包 ## 出版级别表格制作 library(gt) library(tidyverse) library(glue) # Define the start and end dates for the data range start_date &lt;- &quot;2010-06-07&quot; end_date &lt;- &quot;2010-06-14&quot; # Create a gt table based on preprocessed # `sp500` table data sp500 %&gt;% filter(date &gt;= start_date &amp; date &lt;= end_date) %&gt;% select(-adj_close) %&gt;% gt() %&gt;% tab_header( title = &quot;S&amp;P 500&quot;, subtitle = glue::glue(&quot;{start_date} to {end_date}&quot;) ) %&gt;% fmt_date( columns = date, date_style = 3 ) %&gt;% fmt_currency( columns = c(open, high, low, close), currency = &quot;USD&quot; ) %&gt;% fmt_number( columns = volume, suffixing = TRUE ) html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #thctpnrrss .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #thctpnrrss .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #thctpnrrss .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #thctpnrrss .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #thctpnrrss .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #thctpnrrss .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #thctpnrrss .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #thctpnrrss .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #thctpnrrss .gt_column_spanner_outer:first-child { padding-left: 0; } #thctpnrrss .gt_column_spanner_outer:last-child { padding-right: 0; } #thctpnrrss .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #thctpnrrss .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #thctpnrrss .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #thctpnrrss .gt_from_md > :first-child { margin-top: 0; } #thctpnrrss .gt_from_md > :last-child { margin-bottom: 0; } #thctpnrrss .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #thctpnrrss .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #thctpnrrss .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #thctpnrrss .gt_row_group_first td { border-top-width: 2px; } #thctpnrrss .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #thctpnrrss .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #thctpnrrss .gt_first_summary_row.thick { border-top-width: 2px; } #thctpnrrss .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #thctpnrrss .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #thctpnrrss .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #thctpnrrss .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #thctpnrrss .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #thctpnrrss .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #thctpnrrss .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #thctpnrrss .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #thctpnrrss .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #thctpnrrss .gt_left { text-align: left; } #thctpnrrss .gt_center { text-align: center; } #thctpnrrss .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #thctpnrrss .gt_font_normal { font-weight: normal; } #thctpnrrss .gt_font_bold { font-weight: bold; } #thctpnrrss .gt_font_italic { font-style: italic; } #thctpnrrss .gt_super { font-size: 65%; } #thctpnrrss .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #thctpnrrss .gt_asterisk { font-size: 100%; vertical-align: 0; } #thctpnrrss .gt_indent_1 { text-indent: 5px; } #thctpnrrss .gt_indent_2 { text-indent: 10px; } #thctpnrrss .gt_indent_3 { text-indent: 15px; } #thctpnrrss .gt_indent_4 { text-indent: 20px; } #thctpnrrss .gt_indent_5 { text-indent: 25px; } S&amp;P 500 2010-06-07 to 2010-06-14 date open high low close volume Mon, Jun 14, 2010 $1,095.00 $1,105.91 $1,089.03 $1,089.63 4.43B Fri, Jun 11, 2010 $1,082.65 $1,092.25 $1,077.12 $1,091.60 4.06B Thu, Jun 10, 2010 $1,058.77 $1,087.85 $1,058.77 $1,086.84 5.14B Wed, Jun 9, 2010 $1,062.75 $1,077.74 $1,052.25 $1,055.69 5.98B Tue, Jun 8, 2010 $1,050.81 $1,063.15 $1,042.17 $1,062.00 6.19B Mon, Jun 7, 2010 $1,065.84 $1,071.36 $1,049.86 $1,050.47 5.47B 8.1.3 sjPlot包 library(sjPlot) library(sjmisc) library(sjlabelled) # sample data data(&quot;efc&quot;) efc &lt;- as_factor(efc, c161sex, c172code) m1 &lt;- lm(barthtot ~ c160age + c12hour + c161sex + c172code, data = efc) tab_model(m1)   Total score BARTHEL INDEX Predictors Estimates CI p (Intercept) 87.15 77.96 – 96.34 &lt;0.001 carer’ age -0.21 -0.35 – -0.07 0.004 average number of hoursof care per week -0.28 -0.32 – -0.24 &lt;0.001 carer’s gender: Female -0.39 -4.49 – 3.71 0.850 carer’s level ofeducation: intermediatelevel of education 1.37 -3.12 – 5.85 0.550 carer’s level ofeducation: high level ofeducation -1.64 -7.22 – 3.93 0.564 Observations 821 R2 / R2 adjusted 0.271 / 0.266 ## 定制化绘制 tab_model( m1, CSS = list( css.depvarhead = &#39;color: red;&#39;, css.centeralign = &#39;text-align: left;&#39;, css.firsttablecol = &#39;font-weight: bold;&#39;, css.summary = &#39;color: blue;&#39; ) )   Total score BARTHEL INDEX Predictors Estimates CI p (Intercept) 87.15 77.96 – 96.34 &lt;0.001 carer’ age -0.21 -0.35 – -0.07 0.004 average number of hoursof care per week -0.28 -0.32 – -0.24 &lt;0.001 carer’s gender: Female -0.39 -4.49 – 3.71 0.850 carer’s level ofeducation: intermediatelevel of education 1.37 -3.12 – 5.85 0.550 carer’s level ofeducation: high level ofeducation -1.64 -7.22 – 3.93 0.564 Observations 821 R2 / R2 adjusted 0.271 / 0.266 8.2 丰富的表格 ggpubr ggpmisc 8.2.1 ggpubr R-ggpubr包在统计绘图 | 一行代码教你绘制顶级期刊要求配图有介绍其如何绘制科研图表，这里则重点介绍其绘制表格的函数，当然还是可以和ggplot2图表对象一起展示的。 library(ggpubr) df &lt;- head(iris) # Default table # Remove row names using rows = NULL ggtexttable(df, rows = NULL) ## 定制主题 ggtexttable(df, rows = NULL, theme = ttheme(&quot;mBlue&quot;)) ## 自定义 ggtexttable(df, rows = NULL, theme = ttheme( colnames.style = colnames_style(color = &quot;white&quot;, fill = &quot;#8cc257&quot;), tbody.style = tbody_style(color = &quot;black&quot;, fill = c(&quot;#e8f3de&quot;, &quot;#d3e8bb&quot;)) ) ) 8.2.2 ggpmisc R-ggpmisc包中绘制表格的函数为stat_fit_tb(),其功能主要是一些统计结果和拟合结果进行表格展示。 library(ggpmisc) library(ggrepel) library(xts) library(lubridate) library(nlme) library(quantreg) library(broom) library(broom.mixed) library(hrbrthemes) set.seed(4321) # generate artificial data x &lt;- 1:100 y &lt;- (x + x^2 + x^3) + rnorm(length(x), mean = 0, sd = mean(x^3) / 4) my.data &lt;- data.frame(x, y, group = c(&quot;A&quot;, &quot;B&quot;), y2 = y * c(0.5,2), block = c(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;), wt = sqrt(x)) formula &lt;- y ~ x + I(x^2) + I(x^3) plot04 &lt;- ggplot(my.data, aes(x, y)) + geom_point(shape=21,fill=&quot;#BC3C28&quot;,colour=&quot;black&quot;,size=3) + geom_smooth(method = &quot;lm&quot;, formula = formula) + stat_fit_tb(method = &quot;lm&quot;, method.args = list(formula = formula), tb.vars = c(Parameter = &quot;term&quot;, Estimate = &quot;estimate&quot;, &quot;s.e.&quot; = &quot;std.error&quot;, &quot;italic(t)&quot; = &quot;statistic&quot;, &quot;italic(P)&quot; = &quot;p.value&quot;), label.y = &quot;top&quot;, label.x = &quot;left&quot;, parse = TRUE) + labs( title = &quot;Example of &lt;span style=&#39;color:#D20F26&#39;&gt;ggpmisc::stat_fit_tb function&lt;/span&gt;&quot;, subtitle = &quot;processed charts with &lt;span style=&#39;color:#1A73E8&#39;&gt;stat_fit_tb()&lt;/span&gt;&quot;, caption = &quot;Visualization by &lt;span style=&#39;color:#0057FF&#39;&gt;DataCharm&lt;/span&gt;&quot;) + hrbrthemes::theme_ipsum(base_family = &quot;Roboto Condensed&quot;) + theme( plot.title = element_text(hjust = 0.5,vjust = .5,color = &quot;black&quot;, size = 20, margin = margin(t = 1, b = 12)), plot.subtitle = element_text(hjust = 0,vjust = .5,size=15), plot.caption = element_text(face = &#39;bold&#39;,size = 12) ) "],["变化趋势图.html", "第 9 章 变化趋势图 9.1 时间序列图 9.2 堆叠面积图 9.3 日历热力图 9.4 坡度图 9.5 季节图", " 第 9 章 变化趋势图 参考来源：公众号“庄闪闪” ## 加载数据集 library(ggplot2) library(plotrix) data(&quot;midwest&quot;, package = &quot;ggplot2&quot;) ## 全局配色、主题设置。注意，本文使用离散色阶，如果需要使用连续色阶，则需要重写。 options(scipen=999) # 关掉像 1e+48 这样的科学符号 # 颜色设置（灰色系列） cbp1 &lt;- c(&quot;#999999&quot;, &quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;, &quot;#D55E00&quot;, &quot;#CC79A7&quot;) # 颜色设置（黑色系列） cbp2 &lt;- c(&quot;#000000&quot;, &quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;, &quot;#D55E00&quot;, &quot;#CC79A7&quot;) ggplot &lt;- function(...) ggplot2::ggplot(...) + scale_color_manual(values = cbp1) + scale_fill_manual(values = cbp1) + # 注意: 使用连续色阶时需要重写 theme_bw() 9.1 时间序列图 library(ggplot2) library(ggfortify) theme_set(theme_classic()) # 绘图 autoplot(AirPassengers) + labs(title=&quot;AirPassengers&quot;) + theme(plot.title = element_text(hjust=0.5)) library(ggplot2) theme_set(theme_classic()) # 使用默认的时间跨度 ggplot(economics, aes(x=date)) + geom_line(aes(y=pce)) + labs(title=&quot;Time Series Chart&quot;, caption=&quot;Source: Economics&quot;) library(ggplot2) theme_set(theme_classic()) # 使用默认的时间跨度 ggplot(economics, aes(x=date)) + geom_line(aes(y=pce)) + labs(title=&quot;Time Series Chart&quot;, caption=&quot;Source: Economics&quot;) library(ggplot2) library(lubridate) theme_set(theme_bw()) economics_m &lt;- economics[1:24, ] # 设定时间跨度为一个月 lbls &lt;- paste0(month.abb[month(economics_m$date)], &quot; &quot;, lubridate::year(economics_m$date)) brks &lt;- economics_m$date # 绘图 ggplot(economics_m, aes(x=date)) + geom_line(aes(y=pce)) + scale_x_date(labels = lbls, breaks = brks) + # change to monthly ticks and labels theme(axis.text.x = element_text(angle = 90, vjust=0.5), # rotate x axis text panel.grid.minor = element_blank()) # turn off minor grid library(ggplot2) library(lubridate) theme_set(theme_bw()) df &lt;- economics_long[economics_long$variable %in% c(&quot;psavert&quot;, &quot;uempmed&quot;), ] df &lt;- df[lubridate::year(df$date) %in% c(1967:1981), ] # labels and breaks for X axis text brks &lt;- df$date[seq(1, length(df$date), 12)] lbls &lt;- lubridate::year(brks) # 绘图 ggplot(df, aes(x=date)) + geom_line(aes(y=value, col=variable)) + labs(title=&quot;Time Series of Returns Percentage&quot;, subtitle=&quot;Drawn from Long Data format&quot;, caption=&quot;Source: Economics&quot;, y=&quot;Returns %&quot;, color=NULL) + # title and caption scale_x_date(labels = lbls, breaks = brks) + # change to monthly ticks and labels scale_color_manual(labels = c(&quot;psavert&quot;, &quot;uempmed&quot;), values = c(&quot;psavert&quot;=&quot;#00ba38&quot;, &quot;uempmed&quot;=&quot;#f8766d&quot;)) + # line color theme(axis.text.x = element_text(angle = 90, vjust=0.5, size = 8), # rotate x axis text panel.grid.minor = element_blank()) # turn off minor grid library(ggplot2) library(lubridate) theme_set(theme_bw()) df &lt;- economics[, c(&quot;date&quot;, &quot;psavert&quot;, &quot;uempmed&quot;)] df &lt;- df[lubridate::year(df$date) %in% c(1967:1981), ] # labels and breaks for X axis text brks &lt;- df$date[seq(1, length(df$date), 12)] lbls &lt;- lubridate::year(brks) # plot ggplot(df, aes(x=date)) + geom_line(aes(y=psavert, col=&quot;psavert&quot;)) + geom_line(aes(y=uempmed, col=&quot;uempmed&quot;)) + labs(title=&quot;Time Series of Returns Percentage&quot;, subtitle=&quot;Drawn From Wide Data format&quot;, caption=&quot;Source: Economics&quot;, y=&quot;Returns %&quot;) + # title and caption scale_x_date(labels = lbls, breaks = brks) + # change to monthly ticks and labels scale_color_manual(name=&quot;&quot;, values = c(&quot;psavert&quot;=&quot;#00ba38&quot;, &quot;uempmed&quot;=&quot;#f8766d&quot;)) + # line color theme(panel.grid.minor = element_blank()) # turn off minor grid 9.2 堆叠面积图 library(ggplot2) library(lubridate) theme_set(theme_bw()) df &lt;- economics[, c(&quot;date&quot;, &quot;psavert&quot;, &quot;uempmed&quot;)] df &lt;- df[lubridate::year(df$date) %in% c(1967:1981), ] # labels and breaks for X axis text brks &lt;- df$date[seq(1, length(df$date), 12)] lbls &lt;- lubridate::year(brks) # plot ggplot(df, aes(x=date)) + geom_area(aes(y=psavert+uempmed, fill=&quot;psavert&quot;)) + geom_area(aes(y=uempmed, fill=&quot;uempmed&quot;)) + labs(title=&quot;Area Chart of Returns Percentage&quot;, subtitle=&quot;From Wide Data format&quot;, caption=&quot;Source: Economics&quot;, y=&quot;Returns %&quot;) + # title and caption scale_x_date(labels = lbls, breaks = brks) + # change to monthly ticks and labels scale_fill_manual(name=&quot;&quot;, values = c(&quot;psavert&quot;=&quot;#00ba38&quot;, &quot;uempmed&quot;=&quot;#f8766d&quot;)) + # line color theme(panel.grid.minor = element_blank()) # turn off minor grid 9.3 日历热力图 library(ggplot2) library(plyr) library(scales) library(zoo) df &lt;- read.csv(&quot;data/yahoo.csv&quot;) df$date &lt;- as.Date(df$date) # 格式化日期 df &lt;- df[df$year &gt;= 2012, ] # filter reqd years # 创建月周 df$yearmonth &lt;- as.yearmon(df$date) df$yearmonthf &lt;- factor(df$yearmonth) df &lt;- ddply(df,.(yearmonthf), transform, monthweek=1+week-min(week)) # compute week number of month df &lt;- df[, c(&quot;year&quot;, &quot;yearmonthf&quot;, &quot;monthf&quot;, &quot;week&quot;, &quot;monthweek&quot;, &quot;weekdayf&quot;, &quot;VIX.Close&quot;)] head(df) ## year yearmonthf monthf week monthweek weekdayf VIX.Close ## 1 2012 Jan 2012 Jan 1 1 Tue 22.97 ## 2 2012 Jan 2012 Jan 1 1 Wed 22.22 ## 3 2012 Jan 2012 Jan 1 1 Thu 21.48 ## 4 2012 Jan 2012 Jan 1 1 Fri 20.63 ## 5 2012 Jan 2012 Jan 2 2 Mon 21.07 ## 6 2012 Jan 2012 Jan 2 2 Tue 20.69 ggplot(df, aes(monthweek, weekdayf, fill = VIX.Close)) + geom_tile(colour = &quot;white&quot;) + facet_grid(year~monthf) + scale_fill_gradient(low=&quot;red&quot;, high=&quot;green&quot;) + labs(x=&quot;Week of Month&quot;, y=&quot;&quot;, title = &quot;Time-Series Calendar Heatmap&quot;, subtitle=&quot;Yahoo Closing Price&quot;, fill=&quot;Close&quot;) 9.4 坡度图 library(dplyr) theme_set(theme_classic()) source_df &lt;- read.csv(&quot;data/cancer_survival_rates.csv&quot;) # 定义函数，来源: https://github.com/jkeirstead/r-slopegraph tufte_sort &lt;- function(df, x=&quot;year&quot;, y=&quot;value&quot;, group=&quot;group&quot;, method=&quot;tufte&quot;, min.space=0.05) { ## First rename the columns for consistency ids &lt;- match(c(x, y, group), names(df)) df &lt;- df[,ids] names(df) &lt;- c(&quot;x&quot;, &quot;y&quot;, &quot;group&quot;) ## Expand grid to ensure every combination has a defined value tmp &lt;- expand.grid(x=unique(df$x), group=unique(df$group)) tmp &lt;- merge(df, tmp, all.y=TRUE) df &lt;- mutate(tmp, y=ifelse(is.na(y), 0, y)) ## Cast into a matrix shape and arrange by first column require(reshape2) tmp &lt;- dcast(df, group ~ x, value.var=&quot;y&quot;) ord &lt;- order(tmp[,2]) tmp &lt;- tmp[ord,] min.space &lt;- min.space*diff(range(tmp[,-1])) yshift &lt;- numeric(nrow(tmp)) ## Start at &quot;bottom&quot; row ## Repeat for rest of the rows until you hit the top for (i in 2:nrow(tmp)) { ## Shift subsequent row up by equal space so gap between ## two entries is &gt;= minimum mat &lt;- as.matrix(tmp[(i-1):i, -1]) d.min &lt;- min(diff(mat)) yshift[i] &lt;- ifelse(d.min &lt; min.space, min.space - d.min, 0) } tmp &lt;- cbind(tmp, yshift=cumsum(yshift)) scale &lt;- 1 tmp &lt;- melt(tmp, id=c(&quot;group&quot;, &quot;yshift&quot;), variable.name=&quot;x&quot;, value.name=&quot;y&quot;) ## Store these gaps in a separate variable so that they can be scaled ypos = a*yshift + y tmp &lt;- transform(tmp, ypos=y + scale*yshift) return(tmp) } plot_slopegraph &lt;- function(df) { ylabs &lt;- subset(df, x==head(x,1))$group yvals &lt;- subset(df, x==head(x,1))$ypos fontSize &lt;- 3 gg &lt;- ggplot(df,aes(x=x,y=ypos)) + geom_line(aes(group=group),colour=&quot;grey80&quot;) + geom_point(colour=&quot;white&quot;,size=8) + geom_text(aes(label=y), size=fontSize, family=&quot;American Typewriter&quot;) + scale_y_continuous(name=&quot;&quot;, breaks=yvals, labels=ylabs) return(gg) } ## 准备数据 df &lt;- tufte_sort(source_df, x=&quot;year&quot;, y=&quot;value&quot;, group=&quot;group&quot;, method=&quot;tufte&quot;, min.space=0.05) df &lt;- transform(df, x=factor(x, levels=c(5,10,15,20), labels=c(&quot;5 years&quot;,&quot;10 years&quot;,&quot;15 years&quot;,&quot;20 years&quot;)), y=round(y)) ## 绘图 plot_slopegraph(df) + labs(title=&quot;Estimates of % survival rates&quot;) + theme(axis.title=element_blank(), axis.ticks = element_blank(), plot.title = element_text(hjust=0.5, family = &quot;American Typewriter&quot;, face=&quot;bold&quot;), axis.text = element_text(family = &quot;American Typewriter&quot;, face=&quot;bold&quot;)) 9.5 季节图 library(ggplot2) library(forecast) theme_set(theme_classic()) # 使用子集数据 nottem_small &lt;- window(nottem, start=c(1920, 1), end=c(1925, 12)) # 使用较小时间窗的子集 ggseasonplot(nottem_small) + labs(title=&quot;Seasonal plot: Air temperatures at Nottingham Castle&quot;) ggseasonplot(AirPassengers) + labs(title=&quot;Seasonal plot: International Airline Passengers&quot;) "],["explore包.html", "第 10 章 explore包 10.1 包的使用", " 第 10 章 explore包 参考来源：公众号“R语言统计与绘图” 这个包可以用于简化探索性数据分析，并且可以在RStudio中以交互式的形式进行。 # install.packages(&quot;explore&quot;) library(dplyr) library(explore) data(iris) # 加载数据集 10.1 包的使用 explore(iris) # 探索数据集 variable是我们想要探索分析的变量，在右边会显示该变量数据的分布图，下面显示的是该变量的描述统计信息。 report all按钮可以在浏览器显示数据集中所有变量的统计描述信息，同样是图形和数据相结合。 target中添加变量，比如说添加Species变量，我们可以看到右边会显示两个变量之间的分布关系。 运行下面的代码也能得到同样的结果。 ## 会在电脑默认路径explore文件里生成一个report.html，打开即可 iris %&gt;% report(output_file = &quot;report.html&quot;, output_dir = &quot;explore&quot;) 生成网页报告 ## 显示数据集所有变量与Species变量的关系 iris %&gt;% report(output_file = &quot;report2.html&quot;, output_dir = &quot;explore&quot;, target = Species) 生成网页报告2 target可以是连续变量，也可以是分类变量。如果和探索变量都是连续变量，可以分析相关性。 iris %&gt;% explore(Sepal.Length, Petal.Length) iris %&gt;% explore(Sepal.Length, Petal.Length, target = Species) iris %&gt;% select(Sepal.Length, Sepal.Width) %&gt;% # 选两个变量 explore_all() iris %&gt;% select(Sepal.Length, Sepal.Width, Species) %&gt;% explore_all(target = Species) # 添加target变量 "],["colorspace包.html", "第 11 章 colorspace包 11.1 提取颜色 11.2 将颜色回归HCL 11.3 不同图配色", " 第 11 章 colorspace包 参考来源：公众号“R语言和统计” 介绍一个强大的R包{colorspace}，可用于选择颜色和调色板，修饰和创建自己想要的颜色，以及将颜色恰当地应用到各种作图中。 此R包中色彩空间(color space)的构建是基于一种名为HCL (Hue-Chroma-Luminance)的色彩系统。 其中，H (Hue)指的是颜色类型；C (Chroma)指的是彩度；L (Luminance)指的是颜色的亮度(下文中就用H、C、L分别指代上述单词)。 定义干巴巴的且有点抽象，下图可助于理解： ## 含有的颜色与调色板 library(&quot;colorspace&quot;) ## 查看包中已存在的颜色与调色板 hcl_palettes(plot = TRUE) ## 查看包中已存在的颜色名字 hcl_palettes() ## HCL palettes ## ## Type: Qualitative ## Names: Pastel 1, Dark 2, Dark 3, Set 2, Set 3, Warm, Cold, Harmonic, Dynamic ## ## Type: Sequential (single-hue) ## Names: Grays, Light Grays, Blues 2, Blues 3, Purples 2, Purples 3, Reds 2, ## Reds 3, Greens 2, Greens 3, Oslo ## ## Type: Sequential (multi-hue) ## Names: Purple-Blue, Red-Purple, Red-Blue, Purple-Orange, Purple-Yellow, ## Blue-Yellow, Green-Yellow, Red-Yellow, Heat, Heat 2, Terrain, ## Terrain 2, Viridis, Plasma, Inferno, Rocket, Mako, Dark Mint, ## Mint, BluGrn, Teal, TealGrn, Emrld, BluYl, ag_GrnYl, Peach, ## PinkYl, Burg, BurgYl, RedOr, OrYel, Purp, PurpOr, Sunset, ## Magenta, SunsetDark, ag_Sunset, BrwnYl, YlOrRd, YlOrBr, OrRd, ## Oranges, YlGn, YlGnBu, Reds, RdPu, PuRd, Purples, PuBuGn, PuBu, ## Greens, BuGn, GnBu, BuPu, Blues, Lajolla, Turku, Hawaii, Batlow ## ## Type: Diverging ## Names: Blue-Red, Blue-Red 2, Blue-Red 3, Red-Green, Purple-Green, ## Purple-Brown, Green-Brown, Blue-Yellow 2, Blue-Yellow 3, ## Green-Orange, Cyan-Magenta, Tropic, Broc, Cork, Vik, Berlin, ## Lisbon, Tofino colorspace包含三大类调色板： A. Qualitative（定性的）： 通常用于含有不同组别的数据，并且组别之间没有等级关系。函数为：qualitative_hcl() B. Sequential（连续的）： 用于等级或数值关系，比如，由低到高的数据。函数为：sequential_hcl() C. Diverging（分散的）： 用于有等级或数值关系，含有一个中间值，分别往两边延伸的数据。函数为：diverging_hcl() 11.1 提取颜色 color4 &lt;- qualitative_hcl(4, palette = &quot;Set 2&quot;) # 4个颜色，“Set 2”调色板 color4 ## [1] &quot;#ED90A4&quot; &quot;#ABB150&quot; &quot;#00C1B2&quot; &quot;#ACA2EC&quot; 11.1.1 plot配色 plot(EuStockMarkets, plot.type = &quot;single&quot;, col = color4, lwd = 2.5) legend(&quot;topleft&quot;, colnames(EuStockMarkets), col = color4, lwd = 2.5, bty = &quot;o&quot;) 11.1.2 barplot配色 barplot(10:1, col = sequential_hcl(10, palette = &quot;Blues 3&quot;)) 从上述代码可知，sequential_hcl()所提取的颜色可以直接传递到R基础作图中的”col”（颜色）中。 11.1.3 ggplot2配色 应用到{ggplot2}中，使用规则可以归纳成下方代码： scale_() 可替换成fill，color和colour。 指变量的类型，如discrete，continuous和binned。 指上文提到的调色类型：qualitative, sequential和diverging。 根据作图的目的，选择适当的函数，之后就可以轻易的调配颜色。下面举一个例子： library(&quot;ggplot2&quot;) ggplot(iris, aes(x = Petal.Length, fill = Species)) + geom_density(alpha = 0.6) + theme_bw() + scale_fill_discrete_qualitative(palette = &quot;Cold&quot;) 11.2 将颜色回归HCL specplot(sequential_hcl(7, &quot;YlGnBu&quot;), # 提取7种颜色 main = &quot;Sequential: YlGnBu&quot;) # 题目 11.3 不同图配色 Qualitative（定性的） par(mfrow = c(1, 3)) # 使图片可放置的位置变成1行3列 demoplot(qualitative_hcl(4, &quot;Pastel 1&quot;), type = &quot;pie&quot;) demoplot(qualitative_hcl(4, &quot;Set 2&quot;), type = &quot;scatter&quot;) demoplot(qualitative_hcl(4, &quot;Dark 3&quot;), type = &quot;lines&quot;) - Sequential（连续的） par(mfrow = c(1, 3)) demoplot(sequential_hcl(99, &quot;Purple-Blue&quot;), type = &quot;heatmap&quot;) demoplot(sequential_hcl(99, &quot;Reds&quot;), type = &quot;perspective&quot;) demoplot(sequential_hcl(4, &quot;Viridis&quot;), type = &quot;spine&quot;) Diverging（分散的）: par(mfrow = c(1, 3)) demoplot(diverging_hcl(99, &quot;Tropic&quot;, power = 2.5), type = &quot;map&quot;) demoplot(diverging_hcl(5, &quot;Green-Orange&quot;), type = &quot;mosaic&quot;) demoplot(diverging_hcl(5, &quot;Blue-Red 2&quot;), type = &quot;bar&quot;) ## 上面的情况都属于白色（透明）背景的，如果变成黑色炫酷的背景呢 par(mfrow = c(2, 3), bg = &quot;black&quot;) demoplot(sequential_hcl(9, &quot;Oslo&quot;), &quot;heatmap&quot;) demoplot(sequential_hcl(9, &quot;Turku&quot;), &quot;heatmap&quot;) demoplot(sequential_hcl(9, &quot;Inferno&quot;, rev = TRUE), &quot;heatmap&quot;) demoplot(qualitative_hcl(9, &quot;Set 2&quot;), &quot;lines&quot;) demoplot(diverging_hcl(9, &quot;Berlin&quot;), &quot;scatter&quot;) demoplot(diverging_hcl(9, &quot;Cyan-Magenta&quot;, l2 = 20), &quot;lines&quot;) "],["地图.html", "第 12 章 地图 12.1 获取地图数据 12.2 绘制中国地图 12.3 给特定省份填色 12.4 其他参考", " 第 12 章 地图 参考来源：公众号“庄闪闪的R语言手册” 用 R 语言绘制包含十段线的地图，并且可以根据数据实现对各省份的填色。 12.1 获取地图数据 library(geojsonsf) library(sf) library(ggplot2) library(RColorBrewer) library(ggspatial) library(cowplot) 12.2 绘制中国地图 fig1 &lt;- ggplot()+ # 绘制主图 geom_sf(data = China,fill=&#39;NA&#39;) + # 绘制国界线及十段线 geom_sf(data = gjx)+ # 添加省份名称 geom_text(data = province,aes(x=dili_Jd,y=dili_Wd,label=省市),position = &quot;identity&quot;,size=3,check_overlap = TRUE) + labs(title=&quot;中国地图&quot;)+ theme(plot.title = element_text(color=&quot;black&quot;, size=16, face=&quot;bold&quot;,vjust = 0.1,hjust = 0.5), legend.title=element_blank(), legend.position = c(0.2,0.2), panel.grid=element_blank(), panel.background=element_blank(), axis.text=element_blank(), axis.ticks=element_blank(), axis.title=element_blank() )#+ ##添加指北针，“style”参数可以更改样式 # annotation_north_arrow(location=&#39;tl&#39;, which_north=&#39;false&#39;,style=north_arrow_orienteering()) fig1 # 读入数据 nine_lines = read_sf(&#39;map/南海.geojson&#39;) # 绘制九段线小图 fig2 = ggplot() + geom_sf(data = China,fill=&#39;NA&#39;, size=0.5) + geom_sf(data = nine_lines,color=&#39;black&#39;,size=0.5)+ ##去掉主图的部分区域 coord_sf(ylim = c(-4028017,-1877844),xlim = c(117131.4,2115095),crs=&quot;+proj=laea +lat_0=40 +lon_0=104&quot;)+ theme( aspect.ratio = 1.25, #调节长宽比 axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.grid = element_blank(), panel.background = element_blank(), panel.border = element_rect(fill=NA,color=&quot;grey10&quot;,linetype=1,size=0.5), plot.margin=unit(c(0,0,0,0),&quot;mm&quot;)) fig2 fig = ggdraw() + draw_plot(fig1) + draw_plot(fig2, x = 0.8, y = 0, width = 0.13, height = 0.39) fig ## 地图填色 colour &lt;- read.csv(&quot;map/colour.csv&quot;) head(colour) ## shengfen colour QUHUADAIMA ## 1 新疆 0~200 650000 ## 2 西藏 0~200 540000 ## 3 青海 600~1000 630000 ## 4 甘肃 0~200 620000 ## 5 宁夏 200~400 640000 ## 6 内蒙古 400~600 150000 colour$QUHUADAIMA &lt;- as.character(colour$QUHUADAIMA) CHINA &lt;- dplyr::left_join(China,colour,by= &quot;QUHUADAIMA&quot;) fig1 &lt;- ggplot() + geom_sf( data = CHINA, aes(fill = factor(colour))) + ## 填色 scale_fill_manual( &quot;class&quot;, values = c(&quot;#9CEED3&quot;, &quot;#79CBC2&quot;, &quot;#5EA9AC&quot;, &quot;#4B8793&quot;, &quot;#3C6777&quot;), breaks = c(&quot;0~200&quot;, &quot;200~400&quot;, &quot;400~600&quot;, &quot;600~1000&quot;, &quot;1000+&quot;), labels = c(&quot;0~200&quot;, &quot;200~400&quot;, &quot;400~600&quot;, &quot;600~1000&quot;, &quot;1000+&quot;) ) + geom_sf(data = gjx) + geom_text( data = province, aes(x = dili_Jd, y = dili_Wd, label = 省市), position = &quot;identity&quot;, size = 3, check_overlap = TRUE ) + labs(title = &quot;中国地图&quot;) + theme( plot.title = element_text( color = &quot;black&quot;, size = 16, face = &quot;bold&quot;, vjust = 0.1, hjust = 0.5 ), legend.title = element_blank(), legend.position = c(0.2, 0.2), panel.grid = element_blank(), panel.background = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank() ) + annotation_north_arrow( location = &#39;tl&#39;, which_north = &#39;false&#39;, style = north_arrow_orienteering() ) # 读入九段线数据 nine_lines = read_sf(&#39;map/南海.geojson&#39;) # 绘制九段线小图 nine_map = ggplot() + geom_sf(data = CHINA,fill=&#39;NA&#39;, size=0.5) + geom_sf(data = nine_lines,color=&#39;black&#39;,size=0.5)+ coord_sf(ylim = c(-4028017,-1877844),xlim = c(117131.4,2115095),crs=&quot;+proj=laea +lat_0=40 +lon_0=104&quot;)+ theme( aspect.ratio = 1.25, #调节长宽比 axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.grid = element_blank(), panel.background = element_blank(), panel.border = element_rect(fill=NA,color=&quot;grey10&quot;,linetype=1,size=0.5), plot.margin=unit(c(0,0,0,0),&quot;mm&quot;)) # 使用cowplot包将大图小图拼在一起 fig = ggdraw() + draw_plot(fig1) + draw_plot(nine_map, x = 0.8, y = 0, width = 0.13, height = 0.39) fig 12.3 给特定省份填色 colour$new_colour &lt;- rep(0,nrow(colour)) ##给目标省份赋予不同的数值 colour$new_colour[which(colour$shengfen==&quot;重庆&quot;)] &lt;- 1 colour$new_colour[which(colour$shengfen==&quot;山西&quot;)] &lt;- 2 colour$new_colour[which(colour$shengfen==&quot;新疆&quot;)] &lt;- 3 colour$new_colour[which(colour$shengfen==&quot;内蒙古&quot;)] &lt;- 4 CHINA &lt;- dplyr::left_join(China,colour,by= &quot;QUHUADAIMA&quot;) head(colour) ## shengfen colour QUHUADAIMA new_colour ## 1 新疆 0~200 650000 3 ## 2 西藏 0~200 540000 0 ## 3 青海 600~1000 630000 0 ## 4 甘肃 0~200 620000 0 ## 5 宁夏 200~400 640000 0 ## 6 内蒙古 400~600 150000 4 fig1 &lt;- ggplot() + geom_sf( data = CHINA, aes(fill = factor(new_colour))) + scale_fill_manual( &quot;class&quot;, values = c(&quot;#FFFFFF&quot;, &quot;#79CBC2&quot;, &quot;#5EA9AC&quot;, &quot;#4B8793&quot;, &quot;#3C6777&quot;), breaks = c(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;), labels = c(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;) )+ geom_sf(data = gjx) + geom_text( data = province, aes(x = dili_Jd, y = dili_Wd, label = 省市), position = &quot;identity&quot;, size = 3, check_overlap = TRUE ) + labs(title = &quot;中国地图&quot;) + theme( plot.title = element_text( color = &quot;black&quot;, size = 16, face = &quot;bold&quot;, vjust = 0.1, hjust = 0.5 ), legend.title = element_blank(), legend.position = c(0.2, 0.2), panel.grid = element_blank(), panel.background = element_blank(), axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank() ) + annotation_north_arrow( location = &#39;tl&#39;, which_north = &#39;false&#39;, style = north_arrow_orienteering() ) # 读入九段线数据 nine_lines = read_sf(&#39;map/南海.geojson&#39;) # 绘制九段线小图 nine_map = ggplot() + geom_sf(data = CHINA,fill=&#39;NA&#39;, size=0.5) + geom_sf(data = nine_lines,color=&#39;black&#39;,size=0.5)+ coord_sf(ylim = c(-4028017,-1877844),xlim = c(117131.4,2115095),crs=&quot;+proj=laea +lat_0=40 +lon_0=104&quot;)+ theme( aspect.ratio = 1.25, #调节长宽比 axis.text = element_blank(), axis.ticks = element_blank(), axis.title = element_blank(), panel.grid = element_blank(), panel.background = element_blank(), panel.border = element_rect(fill=NA,color=&quot;grey10&quot;,linetype=1,size=0.5), plot.margin=unit(c(0,0,0,0),&quot;mm&quot;)) # 使用cowplot包将大图小图拼在一起 fig = ggdraw() + draw_plot(fig1) + draw_plot(nine_map, x = 0.8, y = 0, width = 0.13, height = 0.39) fig 12.4 其他参考 十段线百科 R语言绘制中国地图：着色省份、标注省份名称 R语言绘制中国地图，增加指北针、比例尺和九段线区域小图 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
